{"version":3,"sources":["webpack:///examples/router/dist/router.js","webpack:///webpack/bootstrap 2a39b1b10df5aa8d1f65?c858*","webpack:///C:/Users/SFM Workstation/server/www/kompo/examples/router/src/router.js","webpack:///C:/Users/SFM Workstation/server/www/kompo/src/component/Component.js?8806*","webpack:///C:/Users/SFM Workstation/server/www/kompo/src/dom/create.js?f239*","webpack:///C:/Users/SFM Workstation/server/www/kompo/src/utils/isFunction.js?6252*","webpack:///C:/Users/SFM Workstation/server/www/kompo/src/utils/isObject.js?0163*","webpack:///C:/Users/SFM Workstation/server/www/kompo/src/dom/replace.js?234e*","webpack:///C:/Users/SFM Workstation/server/www/kompo/src/utils/merge.js?47aa*","webpack:///C:/Users/SFM Workstation/server/www/kompo/src/utils/requestAnimationFrame.js?ae9e*","webpack:///C:/Users/SFM Workstation/server/www/kompo/src/utils/matches.js?3e89*","webpack:///C:/Users/SFM Workstation/server/www/kompo/src/dom/extension.js?73af*","webpack:///C:/Users/SFM Workstation/server/www/kompo/src/utils/capitalize.js?fe66*","webpack:///C:/Users/SFM Workstation/server/www/kompo/src/router/Link.js?3666","webpack:///C:/Users/SFM Workstation/server/www/kompo/src/router/Router.js?3e08","webpack:///C:/Users/SFM Workstation/server/www/kompo/examples/router/src/components/Branch.js","webpack:///C:/Users/SFM Workstation/server/www/kompo/examples/router/src/components/Leaf.js"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","id","loaded","call","m","c","p","_interopRequireDefault","obj","__esModule","default","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_Component2","_Component3","_create","_create2","_extension","_extension2","_Router","_Router2","_Link","_Link2","_Leaf","_Leaf2","_Branch","_Branch2","App","_Component","this","apply","arguments","root","heading","txt","nav","content","classList","add","index","mount","simple","param","branch","branchSimple","branchRooted","nonExisting","append","mountRoutedComponent","routes","Route","IndexRoute","state","router","notFoundCallback","url","alert","app","getComponent","setState","document","body","eventListenerCallback","Component","fn","e","ChildComponent","getRoot","_requestAnimationFrame2","update","bind","_extends","assign","target","i","length","source","key","hasOwnProperty","defineProperty","_requestAnimationFrame","_merge","_merge2","_replace","_replace2","_isFunction","_isFunction2","_matches","props","defaultProps","statefulls","mounts","stateless","isolated","initial","Error","render","l","push","setParent","unmount","indexOf","splice","unmountByIndex","parent","react","_this","isFn","Node","Self","Router","setIsolatedState","nest","callback","on","el","type","dFn","children","addEventListener","event","undefined","parentNode","matches","__kompo_component__","off","removeEventListener","tagName","attributes","Element","doc","createElement","addAttributes","keys","setAttribute","createFragment","createDocumentFragment","createText","str","createTextNode","isFunction","functionToCheck","getType","toString","isObject","_typeof","Symbol","iterator","replace","child","replaceLastChild","rLC","arg2isObject","_isObject2","replacedChild","lastChild","firstChild","replaceChild","appendChild","_isObject","merge","object","Array","shift","j","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","setTimeout","ep","webkitMatchesSelector","msMatchesSelector","mozMatchesSelector","extension","prefix","addPrefix","methodName","noPrefix","_capitalize2","ElementPrototype","FragPrototype","DocumentFragment","name","_value","getAttribute","hasAttribute","removeAttribute","textContent","appendFnName","appendFn","chain","ch","deep","cloneNode","cloneFnName","cloneFn","prependFnName","prependFn","insertBefore","parentElement","queryFnName","queryFn","selector","querySelector","queryAllFnName","queryAllFn","querySelectorAll","removeChild","emptyFnName","emptyFn","console","log","newElement","newSibling","nextSibling","href","_value2","_capitalize","capitalize","charAt","toUpperCase","slice","Link","_this2","a","classNames","classNamesLength","activeClass","isUrl","remove","defaultEvent","preventDefault","goTo","title","data","base","options","setBase","rawRoutes","params","parseRoute","setUrl","location","pathname","component","getCurrentComponent","history","pushState","level","match","isNull","path","against","regexstr","_match","RegExp","getUrl","rooted","substring","buildPath","rawKeys","k","nk","ancestors","routeComponent","basePath","isRoot","childRoute","componentPath","concat","_Route","Branch","Leaf","span","paramIndex"],"mappings":"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","file":"examples/router/dist/router.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId])\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\texports: {},\n/******/ \t\t\tid: moduleId,\n/******/ \t\t\tloaded: false\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.loaded = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(0);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _Component2 = __webpack_require__(1);\n\t\n\tvar _Component3 = _interopRequireDefault(_Component2);\n\t\n\tvar _create = __webpack_require__(2);\n\t\n\tvar _create2 = _interopRequireDefault(_create);\n\t\n\tvar _extension = __webpack_require__(9);\n\t\n\tvar _extension2 = _interopRequireDefault(_extension);\n\t\n\tvar _Router = __webpack_require__(17);\n\t\n\tvar _Router2 = _interopRequireDefault(_Router);\n\t\n\tvar _Link = __webpack_require__(16);\n\t\n\tvar _Link2 = _interopRequireDefault(_Link);\n\t\n\tvar _Leaf = __webpack_require__(19);\n\t\n\tvar _Leaf2 = _interopRequireDefault(_Leaf);\n\t\n\tvar _Branch = __webpack_require__(18);\n\t\n\tvar _Branch2 = _interopRequireDefault(_Branch);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } // Component and content creation classes and functions\n\t\n\t(0, _extension2.default)(); // Could add with prefix\n\t\n\t// Router classes and components\n\t\n\t// Example components with self-explanatory name\n\t\n\t// Setup root component\n\t\n\tvar App = function (_Component) {\n\t    _inherits(App, _Component);\n\t\n\t    function App() {\n\t        _classCallCheck(this, App);\n\t\n\t        return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n\t    }\n\t\n\t    App.prototype.create = function create() {\n\t        // Create needed Elements\n\t        var root = (0, _create2.default)(),\n\t            heading = (0, _create2.default)('h1').txt('Router example - Kompo'),\n\t            nav = (0, _create2.default)('nav'),\n\t            content = (0, _create2.default)('div');\n\t        content.classList.add('content');\n\t\n\t        // Create Link Components for the navigation\n\t        // and mount directly to root component\n\t        var index = this.mount(new _Link2.default('', 'Index')),\n\t            simple = this.mount(new _Link2.default('simple', 'Simple')),\n\t\n\t        // Feel free to change 123 part of the url to something else\n\t        param = this.mount(new _Link2.default('param/123', 'Param')),\n\t            branch = this.mount(new _Link2.default('branch', 'Nested index')),\n\t            branchSimple = this.mount(new _Link2.default('branch/simple', 'Nested simple')),\n\t            branchRooted = this.mount(new _Link2.default('rooted_nested', 'Rooted nested simple')),\n\t\n\t        // This link will fire the notFoundCallback, see below\n\t        nonExisting = this.mount(new _Link2.default('nonexisting', 'Non existing route'));\n\t\n\t        // Append links to the navigation\n\t        nav.append(index, false).append(simple, false).append(param, false).append(branch, false).append(branchSimple, false).append(branchRooted, false).append(nonExisting, false);\n\t\n\t        // Attach the routed Component to the content div\n\t        this.mountRoutedComponent(content);\n\t\n\t        // Append children\n\t        root.append(heading, false).append(nav, false).append(content, false);\n\t\n\t        // Return root\n\t        return root;\n\t    };\n\t\n\t    return App;\n\t}(_Component3.default);\n\t\n\t// Create route structure\n\t\n\tvar routes = new _Router.Route('/', new App(), [\n\t// Each route array needs a IndexRoute\n\tnew _Router.IndexRoute(new _Leaf2.default({\n\t    heading: 'Index component'\n\t})), new _Router.Route('simple', new _Leaf2.default({\n\t    heading: 'Simple component'\n\t})), new _Router.Route('param/:param', new _Leaf2.default({\n\t    heading: 'Route with a param, shown in Component'\n\t})), new _Router.Route('branch', new _Branch2.default(), [new _Router.IndexRoute(new _Leaf2.default({\n\t    heading: 'Nested index component'\n\t})), new _Router.Route('simple', new _Leaf2.default({\n\t    heading: 'Nested simple component'\n\t}))\n\t// Url is very simple, although it is a nested component\n\t, new _Router.Route('/rooted_nested', new _Leaf2.default({\n\t    heading: 'Rooted nested component'\n\t}))])]);\n\t\n\t// An empty state for this example.\n\t// A state is needed because it contains the router\n\tvar state = {};\n\t\n\t// Create router and set a not found Callback\n\tvar router = new _Router2.default(state, routes, '/kompo/examples/router/', {\n\t    notFoundCallback: function notFoundCallback(url) {\n\t        alert('Url: ' + url + ' not found');\n\t    }\n\t});\n\t\n\t// Get the root component by passing null as parameter\n\tvar app = router.getComponent(null);\n\t// Set the state (including the router) to the root component\n\tapp.setState(state);\n\t// And append to body\n\tdocument.body.append(app);\n\n/***/ },\n/* 1 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _requestAnimationFrame = __webpack_require__(7);\n\t\n\tvar _requestAnimationFrame2 = _interopRequireDefault(_requestAnimationFrame);\n\t\n\tvar _merge = __webpack_require__(6);\n\t\n\tvar _merge2 = _interopRequireDefault(_merge);\n\t\n\tvar _replace = __webpack_require__(5);\n\t\n\tvar _replace2 = _interopRequireDefault(_replace);\n\t\n\tvar _isFunction = __webpack_require__(3);\n\t\n\tvar _isFunction2 = _interopRequireDefault(_isFunction);\n\t\n\tvar _matches = __webpack_require__(8);\n\t\n\tvar _matches2 = _interopRequireDefault(_matches);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t// Self-executing\n\t\n\t/**\r\n\t * A Component instance represents an interface component\r\n\t * which is decoupled from context, except for it's child\r\n\t * components, properties and/or the state.\r\n\t *\r\n\t * Properties SHOULD be set through the constructor function,\r\n\t * but can also be provided by the means of setters. The later,\r\n\t * however, is not implemented and up to the user.\r\n\t *\r\n\t * A component makes no assumptions about the form which a state\r\n\t * has, handling state is left to implement for the user. The\r\n\t * Component class does however provide functions for consistently\r\n\t * handling state. Examples of such functions are:\r\n\t *\r\n\t * - Component::react()\r\n\t * - Component::mount()\r\n\t * - Component::on()\r\n\t */\n\t\n\tvar Component = function () {\n\t    /**\r\n\t     * MAY be overridden, make sure to pass properties to the\r\n\t     * super() function. Overriding constructor MUST call super().\r\n\t     * @constructor\r\n\t     * @param {Object} props\r\n\t     */\n\t\n\t    function Component(props) {\n\t        _classCallCheck(this, Component);\n\t\n\t        // Merge props & defaultProps\n\t        // Do an Object.assign() to remove the reference to defaultProps\n\t        var defaultProps = _extends({}, this.constructor.defaultProps);\n\t        if (typeof defaultProps !== 'undefined' && typeof props !== 'undefined') {\n\t            this.props = (0, _merge2.default)(defaultProps, props);\n\t        } else {\n\t            this.props = props || defaultProps || {};\n\t        }\n\t\n\t        this.statefulls = [];\n\t        this.mounts = [];\n\t        this.stateless = true;\n\t        this.isolated = false;\n\t        this.initial = true;\n\t    }\n\t\n\t    /**\r\n\t     * IMPORTANT: Only for internal use, MUST\r\n\t     * not be called by users.\r\n\t     *\r\n\t     * MUST return an Element which represents the root of a component.\r\n\t     *\r\n\t     * Most of the work for rendering the component\r\n\t     * MAY be done here. It CAN be broken up into\r\n\t     * smaller function, however Component::create()\r\n\t     * MUST always return the resulting root Element.\r\n\t     *\r\n\t     * @returns {Element}\r\n\t     */\n\t\n\t    Component.prototype.create = function create() {\n\t        throw new Error('Component must override the create method and return an Node object.');\n\t    };\n\t\n\t    /**\r\n\t     * Outside facing interface for rendering the component.\r\n\t     *\r\n\t     * Call this function instead of\r\n\t     * Component::create() or Component::update()\r\n\t     *\r\n\t     * @returns {Element} this.root - root of the component\r\n\t     */\n\t\n\t    Component.prototype.render = function render() {\n\t        if (this.initial) {\n\t            this.root = this.create();\n\t            this.initial = false;\n\t            Object.defineProperty(this.root, '__kompo_component__', { writable: true, value: this });\n\t            return this.root;\n\t        } else {\n\t            this.update();\n\t            return this.root;\n\t        }\n\t    };\n\t\n\t    /**\r\n\t     * IMPORTANT: Only for internal use, MUST\r\n\t     * not be called by users.\r\n\t     *\r\n\t     * Updates the component and its child components,\r\n\t     * if these are not stateless or isolated\r\n\t     */\n\t\n\t    Component.prototype.update = function update() {\n\t        for (var i = 0, l = this.mounts.length; i < l; i++) {\n\t            var _Component = this.mounts[i];\n\t            if (_Component.stateless || _Component.isolated) continue;\n\t            _Component.update();\n\t        }\n\t\n\t        for (var i = 0, l = this.statefulls.length; i < l; i++) {\n\t            this.statefulls[i](this.state, this);\n\t        }\n\t    };\n\t\n\t    /**\r\n\t     * Registers a statefull child component by:\r\n\t     *\r\n\t     * - Setting it as its parent\r\n\t     * - Passing along the state\r\n\t     *\r\n\t     * Components MAY be registered through Component::mount(),\r\n\t     * however those that are NOT ARE and WILL REMAIN stateless\r\n\t     * and will be excluded from the update cycle.\r\n\t     *\r\n\t     * If you only want to pass state without including\r\n\t     * it in the update cycle use: Component::setState().\r\n\t     *\r\n\t     * @param {Component} Component - child component\r\n\t     * @returns {Component} - child component\r\n\t     */\n\t\n\t    Component.prototype.mount = function mount(Component) {\n\t        this.mounts.push(Component);\n\t        Component.setParent(this);\n\t        Component.setState(this.state);\n\t        return Component;\n\t    };\n\t\n\t    /**\r\n\t     * Unregisters the component from its parent component,\r\n\t     * removing it from the update cycle.\r\n\t     *\r\n\t     * Returns the parent component.\r\n\t     *\r\n\t     * @param {Component} Component - child component\r\n\t     * @returns {Component} - parent component\r\n\t     */\n\t\n\t    Component.prototype.unmount = function unmount(Component) {\n\t        var index = this.mounts.indexOf(Component);\n\t        this.mounts.splice(index, 1);\n\t        return this;\n\t    };\n\t\n\t    /**\r\n\t     * Unregisters the component from its parent component,\r\n\t     * removing it from the update cycle, by index of\r\n\t     * Component:mounts[]\r\n\t     *\r\n\t     * Returns the removed component.\r\n\t     *\r\n\t     * @param {Number} index\r\n\t     * @returns {Component} {*}\r\n\t     */\n\t\n\t    Component.prototype.unmountByIndex = function unmountByIndex(index) {\n\t        var Component = this.mounts[index];\n\t        this.mounts.splice(index, 1);\n\t        return Component;\n\t    };\n\t\n\t    /**\r\n\t     * IMPORTANT: Only for internal use, MUST\r\n\t     * not be called by users.\r\n\t     *\r\n\t     * Set the parent component of the component.\r\n\t     *\r\n\t     * Can produce unwanted side effect if set manually,\r\n\t     * because the compontent tree is changed.\r\n\t     *\r\n\t     * @param {Component} Component - child component\r\n\t     */\n\t\n\t    Component.prototype.setParent = function setParent(Component) {\n\t        this.parent = Component;\n\t        return this;\n\t    };\n\t\n\t    /**\r\n\t     * Registers a closure which is called on\r\n\t     * Component::update() and handles the state.\r\n\t     *\r\n\t     * Cannot be called on stateless Components.\r\n\t     *\r\n\t     * @callback fn\r\n\t     * @param {Function} fn - closure which handles the state.\r\n\t     * @returns {*} - return value of closure\r\n\t     */\n\t\n\t    Component.prototype.react = function react(fn) {\n\t        if (this.stateless) throw new Error('Set state (through mount() or setState()) before registering a react function.');\n\t        this.statefulls.push(fn);\n\t        return fn(this.state, this);\n\t    };\n\t\n\t    /**\r\n\t     * Specialized function for registering a\r\n\t     * routed Component. This has to be an Element\r\n\t     * which holds the rendered root Element of the\r\n\t     * router Component.\r\n\t     *\r\n\t     * @param {(Node|Function)} parent - closure(component, state, self)\r\n\t     * @returns {Component} - the routed component\r\n\t     */\n\t\n\t    Component.prototype.mountRoutedComponent = function mountRoutedComponent(parent) {\n\t        var _this = this;\n\t\n\t        var isFn = false;\n\t        if ((0, _isFunction2.default)(parent)) {\n\t            isFn = true;\n\t        } else if (!parent instanceof Node) {\n\t            throw new Error('Routed Component cannot be assigned. Please make sure parent is a Node or a closure.');\n\t        }\n\t\n\t        return this.react(function (state, Self) {\n\t            var Component = state.Router.getComponent(_this);\n\t\n\t            if (Component) {\n\t                Component.setParent(_this);\n\t                Component.setState(state);\n\t                if (isFn) {\n\t                    parent.bind(_this)(Component, state, Self);\n\t                } else {\n\t                    (0, _replace2.default)(parent, Component);\n\t                }\n\t            }\n\t\n\t            return Component;\n\t        });\n\t    };\n\t\n\t    /**\r\n\t     * Set the state for the component & marks\r\n\t     * the component as statefull.\r\n\t     *\r\n\t     * Does not register for the component to\r\n\t     * the update cycle, for this use:\r\n\t     * Component::mount()\r\n\t     *\r\n\t     * @param {Object} state\r\n\t     * @returns {Component} - self\r\n\t     */\n\t\n\t    Component.prototype.setState = function setState(state) {\n\t        this.stateless = false;\n\t        this.state = state;\n\t        return this;\n\t    };\n\t\n\t    /**\r\n\t     * Set state but also isolates the Component\r\n\t     * from its parent and the update cycle\r\n\t     *\r\n\t     * Child components are updated only if the\r\n\t     * update cycle is started from within the isolated\r\n\t     * component, for example by events.\r\n\t     *\r\n\t     * @param {Object} state\r\n\t     * @returns {Component} - self\r\n\t     */\n\t\n\t    Component.prototype.setIsolatedState = function setIsolatedState(state) {\n\t        this.setState(state);\n\t        this.isolated = true;\n\t        return this;\n\t    };\n\t\n\t    /**\r\n\t     * Enables the user to nest Components and Nodes\r\n\t     *\r\n\t     * The nest function should be used twice,\r\n\t     * one time to define its place within the\r\n\t     * component (called without callback parameter)\r\n\t     * and one time with to define what should be\r\n\t     * nested (within a callback).\r\n\t     *\r\n\t     * @param {Function} [callback]\r\n\t     * @returns {(Component|Node|DocumentFragment|*)}\r\n\t     */\n\t\n\t    Component.prototype.nest = function nest(callback) {\n\t        if (arguments.length === 1) {\n\t            if (!(0, _isFunction2.default)(callback)) {\n\t                throw new Error('Nesting callback should be a function, please provide a valid callback.');\n\t            }\n\t\n\t            this.nest = callback;\n\t            return this;\n\t        } else {\n\t            return this.nest(this.state, this);\n\t        }\n\t    };\n\t\n\t    /**\r\n\t     * Adds an event listener or delegated event listener\r\n\t     * to the provided element and triggers the update cycle\r\n\t     * on its root component.\r\n\t     *\r\n\t     * If a component in the tree is marked as isolated. This\r\n\t     * component will be the root for the update cycle.\r\n\t     *\r\n\t     * @callback (fn|dFn)\r\n\t     * @param {Element} el - element to attach listener on\r\n\t     * @param {string} type | children - type of event or children selector for event delegation\r\n\t     * @param {(Function|string)} fn | type - closure for event or type of event\r\n\t     * @param {(undefined|Function)} [dFn] | type - closure for delegated event or undefined\r\n\t     * @returns {Component} - self\r\n\t     */\n\t\n\t    Component.prototype.on = function on(el, type, fn, dFn) {\n\t        var Component = this;\n\t        if (arguments.length === 4) {\n\t            (function () {\n\t                var children = type;\n\t                type = fn;\n\t                fn = dFn;\n\t\n\t                el.addEventListener(type, function (e) {\n\t                    var event = undefined,\n\t                        ChildComponent = undefined;\n\t\n\t                    for (var target = e.target; target && target != this; target = target.parentNode) {\n\t                        // loop parent nodes from the target to the delegation node\n\t                        if (target.matches(children)) {\n\t                            event = e;\n\t                        }\n\t\n\t                        if (typeof target.__kompo_component__ !== 'undefined') {\n\t                            ChildComponent = target.__kompo_component__;\n\t                            break;\n\t                        }\n\t                    }\n\t\n\t                    if (typeof event !== 'undefined') {\n\t                        eventListenerCallback(Component, fn, event, Component.state, ChildComponent);\n\t                    }\n\t                }, false);\n\t            })();\n\t        } else {\n\t            el.addEventListener(type, function (e) {\n\t                eventListenerCallback(Component, fn, e, Component.state);\n\t            }, false);\n\t        }\n\t\n\t        return this;\n\t    };\n\t\n\t    /**\r\n\t     * Removes the event listener on the given element &\r\n\t     * of a certain type.\r\n\t     *\r\n\t     * @param {Element} el - element for detaching a type of event listeners\r\n\t     * @param {string} type - type of event\r\n\t     * @returns {Component} - self\r\n\t     */\n\t\n\t    Component.prototype.off = function off(el, type) {\n\t        el.removeEventListener(type, eventListenerCallback, false);\n\t        return this;\n\t    };\n\t\n\t    /**\r\n\t     * Gets root component of current component\r\n\t     *\r\n\t     * @returns {Component} root\r\n\t     */\n\t\n\t    Component.prototype.getRoot = function getRoot() {\n\t        if (typeof this.parent !== 'undefined' && !this.isolated) {\n\t            var parent = this.parent;\n\t            while (typeof parent.parent !== 'undefined' && !parent.isolated) {\n\t                parent = parent.parent;\n\t            }\n\t            return parent;\n\t        } else {\n\t            return null;\n\t        }\n\t    };\n\t\n\t    return Component;\n\t}();\n\t\n\t/**\r\n\t * Callback for event listeners set through\r\n\t * Component::on().\r\n\t *\r\n\t * Recurses to the root and starts the update\r\n\t * cycle from this root.\r\n\t *\r\n\t * If a component in the tree is marked as isolated. This\r\n\t * component will be the root for the update cycle.\r\n\t *\r\n\t * @callback fn\r\n\t * @param {Component} Component - which the event callback is called\r\n\t * @param {Function} fn - closure for event callback\r\n\t * @param {Event} e - Event of callback\r\n\t * @param {*} state - application state\r\n\t * @param {Component} ChildComponent - The child component in a delegated call\r\n\t */\n\t\n\texports.default = Component;\n\tfunction eventListenerCallback(Component, fn, e, state, ChildComponent) {\n\t    if (fn.call(Component, e, state, Component, ChildComponent)) {\n\t        var root = Component.getRoot();\n\t        if (root === null) {\n\t            (0, _requestAnimationFrame2.default)(Component.update.bind(Component));\n\t        } else {\n\t            (0, _requestAnimationFrame2.default)(root.update.bind(root));\n\t        }\n\t    }\n\t}\n\n/***/ },\n/* 2 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = create;\n\texports.addAttributes = addAttributes;\n\texports.createFragment = createFragment;\n\texports.createText = createText;\n\tvar doc = document;\n\t\n\t/**\r\n\t * Creates an Element, when no tagName\r\n\t * is given it create an empty div to serve\r\n\t * as root.\r\n\t *\r\n\t * @param {string|undefined} tagName\r\n\t * @returns {Element}\r\n\t */\n\tfunction create(tagName, attributes) {\n\t    var Element = undefined;\n\t    if (typeof tagName === 'undefined') {\n\t        Element = doc.createElement('div');\n\t    } else {\n\t        Element = doc.createElement(tagName);\n\t    }\n\t\n\t    if (typeof attributes !== 'undefined') {\n\t        addAttributes(Element, attributes);\n\t    }\n\t\n\t    return Element;\n\t}\n\t\n\t/**\r\n\t * Adds attributes to an Element\r\n\t * through iterating through an object\r\n\t *\r\n\t * @param {Element} Element\r\n\t * @param {Object} obj\r\n\t * @returns {Element}\r\n\t */\n\tfunction addAttributes(Element, obj) {\n\t    var keys = Object.keys(obj);\n\t    for (var i = 0, l = keys.length; i < l; i++) {\n\t        var key = keys[i],\n\t            value = obj[key];\n\t        Element.setAttribute(key, value);\n\t    }\n\t    return Element;\n\t}\n\t\n\t/**\r\n\t * Syntactic sugar for creating a DocumentFragment\r\n\t *\r\n\t * @returns {DocumentFragment}\r\n\t */\n\tfunction createFragment() {\n\t    return doc.createDocumentFragment();\n\t}\n\t\n\t/**\r\n\t * Syntactic sugar for creating a TextNode\r\n\t *\r\n\t * @param {string} str\r\n\t * @returns {Text}\r\n\t */\n\tfunction createText(str) {\n\t    return doc.createTextNode(str);\n\t}\n\n/***/ },\n/* 3 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isFunction;\n\t/**\r\n\t * Checks if given variable is a function\r\n\t *\r\n\t * @param {*} functionToCheck\r\n\t * @returns {boolean}\r\n\t */\n\tfunction isFunction(functionToCheck) {\n\t  var getType = {};\n\t  return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\n\t}\n\n/***/ },\n/* 4 */\n/***/ function(module, exports) {\n\n\t'use strict';\n\t\n\tvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; };\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\texports.default = isObject;\n\t/**\r\n\t * Checks if `value` is the language type of `Object`.\r\n\t * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\r\n\t *\r\n\t * **Note:** See the [ES5 spec](https://es5.github.io/#x8) for more details.\r\n\t *\r\n\t * @static\r\n\t * @memberOf _\r\n\t * @category Lang\r\n\t * @param {*} value The value to check.\r\n\t * @returns {boolean} Returns `true` if `value` is an object, else `false`.\r\n\t * @example\r\n\t *\r\n\t * _.isObject({});\r\n\t * // => true\r\n\t *\r\n\t * _.isObject([1, 2, 3]);\r\n\t * // => true\r\n\t *\r\n\t * _.isObject(1);\r\n\t * // => false\r\n\t */\n\tfunction isObject(value) {\n\t  // Avoid a V8 JIT bug in Chrome 19-20.\n\t  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n\t  var type = typeof value === 'undefined' ? 'undefined' : _typeof(value);\n\t  return type == 'function' || value && type == 'object' || false;\n\t}\n\n/***/ },\n/* 5 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = replace;\n\t\n\tvar _create = __webpack_require__(2);\n\t\n\tvar _create2 = _interopRequireDefault(_create);\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tvar _isObject = __webpack_require__(4);\n\t\n\tvar _isObject2 = _interopRequireDefault(_isObject);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t *  Replaces an Node for another one\r\n\t *\r\n\t * @param {Node} parent - parent element to replace child on\r\n\t * @param {*} child - new child to replace for old child\r\n\t * @param {boolean} replaceLastChild - replace first or last child\r\n\t * @returns {Node} child - child element\r\n\t */\n\tfunction replace(parent, child) {\n\t    var replaceLastChild = arguments.length <= 2 || arguments[2] === undefined ? false : arguments[2];\n\t    var rLC = arguments.length <= 3 || arguments[3] === undefined ? false : arguments[3];\n\t\n\t    var arg2isObject = (0, _isObject2.default)(arguments[2]);\n\t    var replacedChild = undefined;\n\t    if (arg2isObject) {\n\t        replacedChild = rLC ? parent.lastChild : parent.firstChild;\n\t    } else {\n\t        replacedChild = replaceLastChild ? parent.lastChild : parent.firstChild;\n\t    }\n\t\n\t    if (typeof child === 'string') {\n\t        child = (0, _create2.default)(child);\n\t    }\n\t\n\t    if (child instanceof _Component2.default) {\n\t        child = child.render();\n\t    }\n\t\n\t    if (arg2isObject) {\n\t        (0, _create.addAttributes)(child, replaceLastChild);\n\t    }\n\t\n\t    if (replacedChild) {\n\t        parent.replaceChild(child, replacedChild);\n\t    } else {\n\t        parent.appendChild(child);\n\t    }\n\t\n\t    return child;\n\t}\n\n/***/ },\n/* 6 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = merge;\n\t/**\r\n\t * Merges given objects\r\n\t *\r\n\t * @param {...Object} objs - Any given amount of objects\r\n\t * @returns {Object}\r\n\t */\n\tfunction merge() {\n\t    var object = Array.prototype.shift.call(arguments);\n\t    for (var i = 0; i < arguments.length; i++) {\n\t        var obj = arguments[i];\n\t        for (var j in obj) {\n\t            object[j] = obj[j];\n\t        }\n\t    }\n\t\n\t    return object;\n\t}\n\n/***/ },\n/* 7 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t  value: true\n\t});\n\t/**\r\n\t * RequestAnimationFrame polyfill\r\n\t *\r\n\t * @returns {*}\r\n\t */\n\t\n\texports.default = function requestAnimationFrame() {\n\t  return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (callback) {\n\t    window.setTimeout(callback, 1000 / 60);\n\t  };\n\t}();\n\n/***/ },\n/* 8 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t/**\r\n\t * Polyfills the matches function on Elements\r\n\t *\r\n\t * Used with event delegation in Components class\r\n\t */\n\t\n\texports.default = function () {\n\t    if (!Element.prototype.matches) {\n\t        var ep = Element.prototype;\n\t\n\t        if (ep.webkitMatchesSelector) // Chrome <34, SF<7.1, iOS<8\n\t            ep.matches = ep.webkitMatchesSelector;\n\t\n\t        if (ep.msMatchesSelector) // IE9/10/11 & Edge\n\t            ep.matches = ep.msMatchesSelector;\n\t\n\t        if (ep.mozMatchesSelector) // FF<34\n\t            ep.matches = ep.mozMatchesSelector;\n\t    }\n\t}();\n\n/***/ },\n/* 9 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = extension;\n\t\n\tvar _capitalize = __webpack_require__(10);\n\t\n\tvar _capitalize2 = _interopRequireDefault(_capitalize);\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tvar _replace = __webpack_require__(5);\n\t\n\tvar _replace2 = _interopRequireDefault(_replace);\n\t\n\tvar _create = __webpack_require__(2);\n\t\n\tvar _isObject = __webpack_require__(4);\n\t\n\tvar _isObject2 = _interopRequireDefault(_isObject);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\t/**\r\n\t * DOM extension can be prefixed with arbitrary string\r\n\t *\r\n\t * @param {string} prefix\r\n\t */\n\tfunction extension(prefix) {\n\t    // Prevent lookups\n\t    var noPrefix = typeof prefix === 'undefined',\n\t        doc = document,\n\t        ElementPrototype = Element.prototype,\n\t        FragPrototype = DocumentFragment.prototype;\n\t\n\t    /**\r\n\t     * Returns (prefixed) methodName\r\n\t     *\r\n\t     * @param methodName\r\n\t     * @returns {string}\r\n\t     */\n\t    function addPrefix(methodName) {\n\t        if (noPrefix) {\n\t            return methodName;\n\t        }\n\t\n\t        return prefix + (0, _capitalize2.default)(methodName);\n\t    }\n\t    /**\r\n\t     * Syntactic sugar for getting/setting a attribute.\r\n\t     *\r\n\t     * @param {string} name\r\n\t     * @param {*} value\r\n\t     * @returns {*|Element}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('attr'), { value: function value(name, _value) {\n\t            if (arguments.length === 1) {\n\t                return this.getAttribute(name);\n\t            } else {\n\t                this.setAttribute(name, _value);\n\t                return this;\n\t            }\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for checking if an attribute exists.\r\n\t     *\r\n\t     * @param {string} name\r\n\t     * @returns {boolean}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('hasAttr'), { value: function value(name) {\n\t            return this.hasAttribute(name);\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for removing an attribute.\r\n\t     *\r\n\t     * @param {string} name\r\n\t     * @returns {Element}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('removeAttr'), { value: function value(name) {\n\t            this.removeAttribute(name);\n\t            return this;\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for getting or setting a TextNode.\r\n\t     *\r\n\t     * @param {string} txt\r\n\t     * @returns {Element|Text}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('txt'), { value: function value(txt) {\n\t            if (arguments.length === 1) {\n\t                this.appendChild(doc.createTextNode(txt));\n\t                return this;\n\t            } else {\n\t                return this.textContent;\n\t            }\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for appending an Element.\r\n\t     *\r\n\t     * @param {*} child\r\n\t     * @param {boolean} chain\r\n\t     * @returns {Element}\r\n\t     */\n\t    var appendFnName = addPrefix('append'),\n\t        appendFn = function appendFn(child) {\n\t        var chain = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\t        var ch = arguments.length <= 2 || arguments[2] === undefined ? true : arguments[2];\n\t\n\t        if (typeof child === 'string') {\n\t            child = doc.createElement(child);\n\t        }\n\t\n\t        if (child instanceof _Component2.default) {\n\t            child = child.render();\n\t        }\n\t\n\t        this.appendChild(child);\n\t\n\t        if ((0, _isObject2.default)(arguments[1])) {\n\t            (0, _create.addAttributes)(child, chain);\n\t            return ch ? child : this;\n\t        } else {\n\t            return chain ? child : this;\n\t        }\n\t    };\n\t    Object.defineProperty(ElementPrototype, appendFnName, { value: appendFn });\n\t    Object.defineProperty(FragPrototype, appendFnName, { value: appendFn });\n\t\n\t    /**\r\n\t     * Syntactic sugar for appending an Element\r\n\t     * on the parent of current Element.\r\n\t     *\r\n\t     * @param {*} child\r\n\t     * @param {boolean} chain\r\n\t     * @returns {Element}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('parentAppend'), { value: function value(child) {\n\t            var chain = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\t            var ch = arguments.length <= 2 || arguments[2] === undefined ? true : arguments[2];\n\t\n\t            return this.parentNode.append(child, chain, ch);\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for appending an cloned Element\r\n\t     * to its parent.\r\n\t     *\r\n\t     * BEWARE: It does not copy event listeners\r\n\t     * BEWARE: deep option can have serious performance implications\r\n\t     *\r\n\t     * @param {boolean} deep = deep copy or not\r\n\t     * @returns {Element}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('cloneAppend'), { value: function value() {\n\t            var deep = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\t\n\t            return this.parentNode.append(this.cloneNode(deep));\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for cloning an Element\r\n\t     *\r\n\t     * BEWARE: It does not copy event listeners\r\n\t     * BEWARE: deep option can have serious performance implications\r\n\t     *\r\n\t     * @param {boolean} deep = deep copy or not\r\n\t     * @returns {Element}\r\n\t     */\n\t    var cloneFnName = addPrefix('clone'),\n\t        cloneFn = function cloneFn() {\n\t        var deep = arguments.length <= 0 || arguments[0] === undefined ? false : arguments[0];\n\t\n\t        return this.cloneNode(deep);\n\t    };\n\t    Object.defineProperty(ElementPrototype, cloneFnName, { value: cloneFn });\n\t    Object.defineProperty(FragPrototype, cloneFnName, { value: cloneFn });\n\t\n\t    /**\r\n\t     * Syntactic sugar for prepending an Element.\r\n\t     *\r\n\t     * @param {*} child\r\n\t     * @param {boolean} chain\r\n\t     * @returns {Element}\r\n\t     */\n\t    var prependFnName = addPrefix('prepend'),\n\t        prependFn = function prependFn(child) {\n\t        var chain = arguments.length <= 1 || arguments[1] === undefined ? true : arguments[1];\n\t        var ch = arguments.length <= 2 || arguments[2] === undefined ? true : arguments[2];\n\t\n\t        var firstChild = this.firstChild;\n\t\n\t        if (typeof child === 'string') {\n\t            child = doc.createElement(child);\n\t        }\n\t\n\t        if (child instanceof _Component2.default) {\n\t            child = child.render();\n\t        }\n\t\n\t        if (firstChild) {\n\t            this.insertBefore(child, firstChild);\n\t        } else {\n\t            this.append(child);\n\t        }\n\t\n\t        if ((0, _isObject2.default)(arguments[1])) {\n\t            (0, _create.addAttributes)(child, chain);\n\t            return ch ? child : this;\n\t        } else {\n\t            return chain ? child : this;\n\t        }\n\t    };\n\t    Object.defineProperty(ElementPrototype, prependFnName, { value: prependFn });\n\t    Object.defineProperty(FragPrototype, prependFnName, { value: prependFn });\n\t\n\t    /**\r\n\t     * Syntactic sugar for getting the parent Element.\r\n\t     *\r\n\t     * @returns {Element|Node}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('parent'), { value: function value() {\n\t            return this.parentElement || this.parentNode;\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for checking if the Element\r\n\t     * has a parent.\r\n\t     *\r\n\t     * @returns {boolean}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('hasParent'), { value: function value() {\n\t            return !(this.parentElement === null && this.parentNode === null);\n\t        } });\n\t\n\t    /**\r\n\t     * Recurse to the root Element (which has no parent)\r\n\t     *\r\n\t     * @returns {Element|Node}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('root'), { value: function value(parent) {\n\t            parent = !parent ? this.parentElement || this.parentNode : parent;\n\t\n\t            while ((parent.parentElement || parent.parentNode) !== null) {\n\t                parent = this.root(parent.parentElement || parent.parentNode);\n\t            }\n\t\n\t            return parent;\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for document.querySelector()\r\n\t     *\r\n\t     * @param {string} selector\r\n\t     * @returns {Element}\r\n\t     */\n\t    var queryFnName = addPrefix('query'),\n\t        queryFn = function queryFn(selector) {\n\t        return this.querySelector(selector);\n\t    };\n\t    Object.defineProperty(ElementPrototype, queryFnName, { value: queryFn });\n\t    Object.defineProperty(FragPrototype, queryFnName, { value: queryFn });\n\t\n\t    /**\r\n\t     * Syntactic sugar for document.querySelectorAll()\r\n\t     *\r\n\t     * @param {string} selector\r\n\t     * @returns {HTMLCollection}\r\n\t     */\n\t    var queryAllFnName = addPrefix('queryAll'),\n\t        queryAllFn = function queryAllFn(selector) {\n\t        return this.querySelectorAll(selector);\n\t    };\n\t    Object.defineProperty(ElementPrototype, queryAllFnName, { value: queryAllFn });\n\t    Object.defineProperty(FragPrototype, queryAllFnName, { value: queryAllFn });\n\t\n\t    /**\r\n\t     * Syntactic sugar/polyfill for Element.remove()\r\n\t     *\r\n\t     * @returns {Element}\r\n\t     */\n\t    if (!('remove' in ElementPrototype)) {\n\t        Object.defineProperty(ElementPrototype, addPrefix('remove'), {\n\t            value: function value() {\n\t                var parent = this.parentNode;\n\t                if (parent) {\n\t                    parent.removeChild(this);\n\t                }\n\t            }\n\t        });\n\t    }\n\t\n\t    /**\r\n\t     * Syntactic sugar for removing all child Elements\\Nodes\r\n\t     *\r\n\t     * @returns {Element}\r\n\t     */\n\t    var emptyFnName = addPrefix('empty'),\n\t        emptyFn = function emptyFn() {\n\t        while (this.lastChild) {\n\t            this.removeChild(this.lastChild);\n\t        }\n\t        return this;\n\t    };\n\t    Object.defineProperty(ElementPrototype, emptyFnName, { value: emptyFn });\n\t    Object.defineProperty(FragPrototype, emptyFnName, { value: emptyFn });\n\t\n\t    /**\r\n\t     * Syntactic sugar for logging\r\n\t     *\r\n\t     * When chain methods it can be used to log an Element\r\n\t     * right in the middle of the chain.\r\n\t     *\r\n\t     * @returns {Element}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('log'), { value: function value() {\n\t            console.log(this);\n\t            return this;\n\t        } });\n\t\n\t    /**\r\n\t     * @see ./replace.js\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('replace'), { value: function value(child) {\n\t            var replaceLastChild = arguments.length <= 1 || arguments[1] === undefined ? false : arguments[1];\n\t\n\t            return (0, _replace2.default)(this, child, replaceLastChild);\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for replacing the\r\n\t     * current Element with a new one.\r\n\t     *\r\n\t     * BEWARE: a parent Element must exist\r\n\t     *\r\n\t     * @returns {Element} - return the new Element\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('replaceWith'), { value: function value(newElement, attributes) {\n\t            if (typeof newElement === 'string') {\n\t                newElement = doc.createElement(newElement);\n\t            }\n\t\n\t            if (typeof attributes !== 'undefined') {\n\t                (0, _create.addAttributes)(newElement, attributes);\n\t            }\n\t\n\t            this.parentNode.replaceChild(this, newElement);\n\t            return newElement;\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for inserting an Element\r\n\t     * before another Element\r\n\t     *\r\n\t     * BEWARE: a parenNode needs to be available\r\n\t     *\r\n\t     * @returns {Element} - the new Element\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('before'), { value: function value(newSibling, attributes) {\n\t            var parentNode = this.parentNode;\n\t\n\t            if (typeof newSibling === 'string') {\n\t                newSibling = doc.createElement(newSibling);\n\t            }\n\t\n\t            if (newSibling instanceof _Component2.default) {\n\t                newSibling = newSibling.render();\n\t            }\n\t\n\t            if (typeof attributes !== 'undefined') {\n\t                (0, _create.addAttributes)(newSibling, attributes);\n\t            }\n\t\n\t            if (parentNode) {\n\t                parentNode.insertBefore(newSibling, this);\n\t            }\n\t            return newSibling;\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for inserting an Element\r\n\t     * after another Element\r\n\t     *\r\n\t     * BEWARE: a parenNode needs to be available\r\n\t     *\r\n\t     * @returns {Element} - the new Element\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('after'), { value: function value(newSibling, attributes) {\n\t            var parentNode = this.parentNode,\n\t                nextSibling = this.nextSibling;\n\t\n\t            if (typeof newSibling === 'string') {\n\t                newSibling = doc.createElement(newSibling);\n\t            }\n\t\n\t            if (newSibling instanceof _Component2.default) {\n\t                newSibling = newSibling.render();\n\t            }\n\t\n\t            if (typeof attributes !== 'undefined') {\n\t                (0, _create.addAttributes)(newSibling, attributes);\n\t            }\n\t\n\t            if (parentNode) {\n\t                if (nextSibling) {\n\t                    parentNode.insertBefore(newSibling, nextSibling);\n\t                } else {\n\t                    parentNode.appendChild(newSibling);\n\t                }\n\t            }\n\t\n\t            return newSibling;\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for getting/setting the id\r\n\t     * of an Element\r\n\t     *\r\n\t     * @param {*} id\r\n\t     * @returns {string|Element}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('i'), { value: function value(id) {\n\t            if (arguments.length === 0) {\n\t                return this.id;\n\t            } else {\n\t                this.id = id;\n\t                return this;\n\t            }\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for getting/setting the name\r\n\t     * of an Element\r\n\t     *\r\n\t     * @param {*} name\r\n\t     * @returns {string|Element}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('n'), { value: function value(name) {\n\t            if (arguments.length === 0) {\n\t                return this.name;\n\t            } else {\n\t                this.name = name;\n\t                return this;\n\t            }\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for getting/setting the href\r\n\t     * of an Element\r\n\t     *\r\n\t     * @param {*} href\r\n\t     * @returns {string|Element}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('h'), { value: function value(href) {\n\t            if (arguments.length === 0) {\n\t                return this.href;\n\t            } else {\n\t                this.href = href;\n\t                return this;\n\t            }\n\t        } });\n\t\n\t    /**\r\n\t     * Syntactic sugar for getting/setting the value\r\n\t     * of an Element\r\n\t     *\r\n\t     * @param {*} value\r\n\t     * @returns {string|Element}\r\n\t     */\n\t    Object.defineProperty(ElementPrototype, addPrefix('v'), { value: function value(_value2) {\n\t            if (arguments.length === 0) {\n\t                return this.value;\n\t            } else {\n\t                this.value = _value2;\n\t                return this;\n\t            }\n\t        } });\n\t}\n\n/***/ },\n/* 10 */\n/***/ function(module, exports) {\n\n\t\"use strict\";\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.default = capitalize;\n\t/**\n\t * Capitalizes string\n\t *\n\t * @param {string} str\n\t * @returns {string}\n\t */\n\tfunction capitalize(str) {\n\t    if (typeof str === \"string\") {\n\t        return str.charAt(0).toUpperCase() + str.slice(1);\n\t    }\n\t}\n\n/***/ },\n/* 11 */,\n/* 12 */,\n/* 13 */,\n/* 14 */,\n/* 15 */,\n/* 16 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _Component2 = __webpack_require__(1);\n\t\n\tvar _Component3 = _interopRequireDefault(_Component2);\n\t\n\tvar _isFunction = __webpack_require__(3);\n\t\n\tvar _isFunction2 = _interopRequireDefault(_isFunction);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\t/**\r\n\t * Represents a Link\r\n\t *\r\n\t * @class\r\n\t * @classdesc This link is picked up by the Router and\r\n\t * subsequently routed to correct path of the\r\n\t * application.\r\n\t * @augments Component\r\n\t */\n\t\n\tvar Link = function (_Component) {\n\t    _inherits(Link, _Component);\n\t\n\t    /**\r\n\t     * Create a Link instance\r\n\t     *\r\n\t     * @param {string} url\r\n\t     * @param {string|Component|Node} child\r\n\t     * @param {Object} [props]\r\n\t     *\r\n\t     */\n\t\n\t    function Link(url, child, props) {\n\t        _classCallCheck(this, Link);\n\t\n\t        var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\t\n\t        _this.url = url;\n\t        _this.child = child;\n\t        return _this;\n\t    }\n\t\n\t    /**\r\n\t     * @inheritdoc\r\n\t     *\r\n\t     * @throws an error if incorrect child is provided\r\n\t     * @returns {Node}\r\n\t     */\n\t\n\t    Link.prototype.create = function create() {\n\t        var _this2 = this;\n\t\n\t        // Create root element\n\t        var a = document.createElement('a'),\n\t            classNames = this.props.classNames,\n\t            classNamesLength = classNames.length;\n\t\n\t        // Add classes\n\t        if (classNamesLength > 0) {\n\t            for (var i = 0; i < classNamesLength; ++i) {\n\t                a.classList.add(classNames[i]);\n\t            }\n\t        }\n\t\n\t        this.react(function (state) {\n\t            var activeClass = _this2.props.activeClass;\n\t            if (state.Router.isUrl(_this2.url)) {\n\t                a.classList.add(activeClass);\n\t            } else {\n\t                a.classList.remove(activeClass);\n\t            }\n\t        });\n\t\n\t        // Set href\n\t        a.setAttribute('href', this.url);\n\t\n\t        // Add child\n\t        if (typeof this.child === 'string') {\n\t            a.appendChild(document.createTextNode(this.child));\n\t        } else if (this.child instanceof _Component3.default) {\n\t            this.mount(this.child);\n\t            a.appendChild(this.child.render());\n\t        } else if (this.child instanceof Node) {\n\t            a.appendChild(this.child);\n\t        } else if ((0, _isFunction2.default)(this.nest)) {\n\t            a.appendChild(this.nest());\n\t        } else {\n\t            throw new Error('Child should be a string, Component, Node or a nest callback');\n\t        }\n\t\n\t        // Add event\n\t        this.on(a, this.props.defaultEvent, function (e, state) {\n\t            e.preventDefault();\n\t            return state.Router.goTo(_this2.url, _this2.props.title, _this2.props.data);\n\t        });\n\t\n\t        return a;\n\t    };\n\t\n\t    return Link;\n\t}(_Component3.default);\n\t\n\t// Set default properties\n\t\n\texports.default = Link;\n\tLink.defaultProps = {\n\t    classNames: [],\n\t    data: {}, // Data to push with pushState()\n\t    title: '',\n\t    defaultEvent: 'click',\n\t    activeClass: 'active'\n\t};\n\n/***/ },\n/* 17 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\texports.IndexRoute = exports.Route = undefined;\n\t\n\tvar _requestAnimationFrame = __webpack_require__(7);\n\t\n\tvar _requestAnimationFrame2 = _interopRequireDefault(_requestAnimationFrame);\n\t\n\tvar _merge = __webpack_require__(6);\n\t\n\tvar _merge2 = _interopRequireDefault(_merge);\n\t\n\tvar _isFunction = __webpack_require__(3);\n\t\n\tvar _isFunction2 = _interopRequireDefault(_isFunction);\n\t\n\tvar _Component = __webpack_require__(1);\n\t\n\tvar _Component2 = _interopRequireDefault(_Component);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\t/**\r\n\t * Router class which works\r\n\t * closely together with the Component class\r\n\t * in order to facilitate routing and efficient\r\n\t * creation, rendering and updating\r\n\t *\r\n\t * @see router examples for usage\r\n\t */\n\t\n\tvar Router = function () {\n\t    /**\r\n\t     * Create the Router\r\n\t     *\r\n\t     * @constructor\r\n\t     * @param {Object} state\r\n\t     * @param {Route} Route\r\n\t     * @param {string} [base]\r\n\t     * @param {Object} [options]\r\n\t     */\n\t\n\t    function Router(state, Route) {\n\t        var _this = this;\n\t\n\t        var base = arguments.length <= 2 || arguments[2] === undefined ? '' : arguments[2];\n\t        var options = arguments.length <= 3 || arguments[3] === undefined ? {} : arguments[3];\n\t\n\t        _classCallCheck(this, Router);\n\t\n\t        // Add self (Router) to state\n\t        // TODO: Make this configurable?\n\t        state.Router = this;\n\t        this.state = state;\n\t        this.options = (0, _merge2.default)({\n\t            notFoundCallback: null\n\t        }, options);\n\t        this.setBase(base);\n\t        this.url = '/';\n\t        this.rawRoutes = {};\n\t        this.routes = {};\n\t        this.index = 0;\n\t        this.params = [];\n\t\n\t        this.parseRoute(Route);\n\t\n\t        window.addEventListener('popstate', function () {\n\t            _this.setUrl(window.location.pathname.replace(_this.base, ''));\n\t            // Just update the whole tree from the root up.\n\t            var component = _this.getCurrentComponent(null);\n\t            (0, _requestAnimationFrame2.default)(component.update.bind(component));\n\t        });\n\t    }\n\t\n\t    /**\r\n\t     * Sets and normalizes the base used in\r\n\t     * Router::goTo()\r\n\t     *\r\n\t     * @param {string} base\r\n\t     */\n\t\n\t    Router.prototype.setBase = function setBase(base) {\n\t        if (base[0] !== '/') {\n\t            base = '/' + base;\n\t        }\n\t\n\t        if (base.slice(-1) === '/') {\n\t            base = base.slice(0, -1);\n\t        }\n\t\n\t        this.base = base;\n\t    };\n\t\n\t    /**\r\n\t     * Makes use of history.pushState to\r\n\t     * push the url of the browser.\r\n\t     *\r\n\t     * Also stores is as current url in the Router\r\n\t     *\r\n\t     * BEWARE: uses this.base\r\n\t     * BEWARE: sets this.data\r\n\t     *\r\n\t     * @param {string} url - url to navigate to\r\n\t     * @param {string} [title] - title of the page to navigate\r\n\t     * @param {*} [data] - data set\r\n\t     * @returns {boolean} - return true to cause a possible update cycle\r\n\t     */\n\t\n\t    Router.prototype.goTo = function goTo(url) {\n\t        var title = arguments.length <= 1 || arguments[1] === undefined ? null : arguments[1];\n\t        var data = arguments.length <= 2 || arguments[2] === undefined ? null : arguments[2];\n\t\n\t        if (this.isUrl(url)) return false;\n\t        this.setUrl(url);\n\t        // TODO: What can we possibly do with this?\n\t        this.data = data;\n\t        history.pushState(data, title, this.base + this.url);\n\t        return true;\n\t    };\n\t\n\t    /**\r\n\t     * Gets the next component from the routed path\r\n\t     *\r\n\t     * BEWARE: When called it increments the Router's\r\n\t     * index in order for it to return the next element\r\n\t     * on the next call.\r\n\t     *\r\n\t     * @param {Component} parent\r\n\t     * @returns {Component} next\r\n\t     */\n\t\n\t    Router.prototype.getComponent = function getComponent(parent) {\n\t        if (parent instanceof _Component2.default) {\n\t            this.index = parent.level + 1;\n\t        }\n\t\n\t        return this.match(this.url, this.routes)[this.index];\n\t    };\n\t\n\t    /**\r\n\t     * Gets the current component from the routed path\r\n\t     *\r\n\t     * @param {Component} parent\r\n\t     * @returns {Component} current\r\n\t     */\n\t\n\t    Router.prototype.getCurrentComponent = function getCurrentComponent(parent) {\n\t        var isNull = parent === null;\n\t        if (!isNull || !parent instanceof _Component2.default) {\n\t            throw new Error('Cannot get current Component.Parameter parent must be null for the root parent or a Component to return its child component');\n\t        }\n\t        var path = this.match(this.url, this.routes);\n\t        return isNull ? path[0] : path[parent.level + 1];\n\t    };\n\t\n\t    /**\r\n\t     * Matches an url to a parsed route regex\r\n\t     * and returns the path of Components\r\n\t     *\r\n\t     * BEWARE: Assigns the matched groups to the Router's\r\n\t     * params\r\n\t     *\r\n\t     * @param {string} url\r\n\t     * @param {Object} against - regex keyed object with the route paths as values\r\n\t     * @returns {Array} path - array of the components in the matched path\r\n\t     */\n\t\n\t    Router.prototype.match = function match(url, against) {\n\t        var keys = Object.keys(against);\n\t        for (var i = 0, l = keys.length; i < l; i++) {\n\t            var regexstr = keys[i],\n\t                _match = url.match(new RegExp('^' + regexstr + '$'));\n\t            if (_match !== null) {\n\t                _match.shift();\n\t                this.params = _match;\n\t                return against[regexstr];\n\t            }\n\t        }\n\t\n\t        if ((0, _isFunction2.default)(this.options.notFoundCallback)) {\n\t            this.options.notFoundCallback.call(this, url);\n\t        } else {\n\t            throw new Error('No matching route found for url: ' + url + '. Provide a notFoundCallback callback option or correct the url or route.');\n\t        }\n\t        return []; // Return empty array to keep it all running\n\t    };\n\t\n\t    /**\r\n\t     * Gets and possibily normalizes the url\r\n\t     *\r\n\t     * @param {boolean} [rooted]\r\n\t     * @returns {string} url - url from Router\r\n\t     */\n\t\n\t    Router.prototype.getUrl = function getUrl() {\n\t        var rooted = arguments.length <= 0 || arguments[0] === undefined ? true : arguments[0];\n\t\n\t        return rooted ? this.url : this.url.substring(1);\n\t    };\n\t\n\t    /**\r\n\t     * Sets and normalized a url\r\n\t     * @param {string} url\r\n\t     */\n\t\n\t    Router.prototype.setUrl = function setUrl(url) {\n\t        this.url = url[0] === '/' ? url : '/' + url;\n\t    };\n\t\n\t    /**\r\n\t     * Compares an url to the current Router url\r\n\t     *\r\n\t     * @param {string} url\r\n\t     * @returns {boolean} - If true is return the urls match\r\n\t     */\n\t\n\t    Router.prototype.isUrl = function isUrl(url) {\n\t        url = url[0] === '/' ? url : '/' + url;\n\t        return this.url === url;\n\t    };\n\t\n\t    /**\r\n\t     * IMPORTANT: Only for internal use, MUST\r\n\t     * not be called by users.\r\n\t     *\r\n\t     * Start building paths for the configured Routes\r\n\t     * and finishes the regexes.\r\n\t     *\r\n\t     * BEWARE: sets this.routes\r\n\t     *\r\n\t     * Finished\r\n\t     * @param Route\r\n\t     */\n\t\n\t    Router.prototype.parseRoute = function parseRoute(Route) {\n\t        this.buildPath(Route);\n\t\n\t        var rawKeys = Object.keys(this.rawRoutes);\n\t        for (var i = 0, l = rawKeys.length; i < l; i++) {\n\t            var k = rawKeys[i],\n\t\n\t            // TODO: Could this be improved?\n\t            nk = k.replace(/(:([\\w-]+))/g, '([\\\\w-]+)').replace(/\\//g, '\\\\/');\n\t            this.routes[nk] = this.rawRoutes[k];\n\t        }\n\t    };\n\t\n\t    /**\r\n\t     * IMPORTANT: Only for internal use, MUST\r\n\t     * not be called by users.\r\n\t     *\r\n\t     * Recursive function which parses Route instances\r\n\t     * and its children routes.\r\n\t     *\r\n\t     * It builds the regex keyed objects with a path of\r\n\t     * Components as values to match an incoming url to.\r\n\t     *\r\n\t     * BEWARE: sets this.rawRoutes\r\n\t     *\r\n\t     * @param {Route} Route\r\n\t     * @param {Array} [ancestors] - previous Components\r\n\t     * @param {Number} [level] - level of nested Routes\r\n\t     */\n\t\n\t    Router.prototype.buildPath = function buildPath(Route) {\n\t        var ancestors = arguments.length <= 1 || arguments[1] === undefined ? [] : arguments[1];\n\t        var level = arguments.length <= 2 || arguments[2] === undefined ? 0 : arguments[2];\n\t\n\t        var children = Route.children,\n\t            routeComponent = Route.component;\n\t        routeComponent.level = level;\n\t\n\t        if (!children) return;\n\t\n\t        var basePath = Route.path,\n\t            isRoot = ancestors.length === 0;\n\t\n\t        for (var i = 0, l = children.length; i < l; i++) {\n\t            var childRoute = children[i],\n\t                componentPath = !isRoot ? ancestors.concat(childRoute.component) : ancestors.concat(routeComponent, childRoute.component);\n\t            var path = undefined;\n\t\n\t            if (childRoute.path[0] === '/') {\n\t                path = childRoute.path;\n\t            } else if (isRoot) {\n\t                path = basePath + childRoute.path;\n\t            } else if (childRoute instanceof IndexRoute) {\n\t                path = basePath;\n\t            } else {\n\t                path = basePath + '/' + childRoute.path;\n\t            }\n\t\n\t            childRoute.path = path;\n\t            this.rawRoutes[path] = componentPath;\n\t            this.buildPath(childRoute, componentPath, level + 1);\n\t        }\n\t    };\n\t\n\t    return Router;\n\t}();\n\t\n\t/**\r\n\t * Normal route\r\n\t * @see router example for usage\r\n\t */\n\t\n\texports.default = Router;\n\t\n\tvar Route =\n\t/**\r\n\t * @constructor\r\n\t * @param {string} path - partial or absolute path to Component\r\n\t * @param {Component} Component - component belonging to path\r\n\t * @param {Array} [children] - child Routes\r\n\t */\n\texports.Route = function Route(path, Component) {\n\t    var children = arguments.length <= 2 || arguments[2] === undefined ? [] : arguments[2];\n\t\n\t    _classCallCheck(this, Route);\n\t\n\t    this.path = path;\n\t    this.component = Component;\n\t    this.children = children;\n\t};\n\t\n\t/**\r\n\t * Default route of a collection of Routes.\r\n\t * @see router example for usage\r\n\t */\n\t\n\tvar IndexRoute = exports.IndexRoute = function (_Route) {\n\t    _inherits(IndexRoute, _Route);\n\t\n\t    /**\r\n\t     * Path is always the path of its parent\r\n\t     * @constructor\r\n\t     * @param {Component} Component\r\n\t     */\n\t\n\t    function IndexRoute(Component) {\n\t        _classCallCheck(this, IndexRoute);\n\t\n\t        return _possibleConstructorReturn(this, _Route.call(this, '', Component));\n\t    }\n\t\n\t    return IndexRoute;\n\t}(Route);\n\n/***/ },\n/* 18 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _Component2 = __webpack_require__(1);\n\t\n\tvar _Component3 = _interopRequireDefault(_Component2);\n\t\n\tvar _create = __webpack_require__(2);\n\t\n\tvar _create2 = _interopRequireDefault(_create);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Branch = function (_Component) {\n\t    _inherits(Branch, _Component);\n\t\n\t    function Branch() {\n\t        _classCallCheck(this, Branch);\n\t\n\t        return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n\t    }\n\t\n\t    Branch.prototype.create = function create() {\n\t        // Create Elements\n\t        var root = (0, _create2.default)(),\n\t            heading = (0, _create2.default)('h2').txt(this.props.heading),\n\t            content = (0, _create2.default)('div');\n\t        content.classList.add('content');\n\t\n\t        // Append children\n\t        root.append(heading, false).append(content);\n\t\n\t        // Attach the routed Component to the content div\n\t        this.mountRoutedComponent(content);\n\t\n\t        // Return root\n\t        return root;\n\t    };\n\t\n\t    return Branch;\n\t}(_Component3.default);\n\t\n\texports.default = Branch;\n\t\n\tBranch.defaultProps = {\n\t    heading: 'Branch component'\n\t};\n\n/***/ },\n/* 19 */\n/***/ function(module, exports, __webpack_require__) {\n\n\t'use strict';\n\t\n\tObject.defineProperty(exports, \"__esModule\", {\n\t    value: true\n\t});\n\t\n\tvar _Component2 = __webpack_require__(1);\n\t\n\tvar _Component3 = _interopRequireDefault(_Component2);\n\t\n\tvar _create = __webpack_require__(2);\n\t\n\tvar _create2 = _interopRequireDefault(_create);\n\t\n\tfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\t\n\tfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\t\n\tfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\t\n\tfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\t\n\tvar Leaf = function (_Component) {\n\t    _inherits(Leaf, _Component);\n\t\n\t    function Leaf() {\n\t        _classCallCheck(this, Leaf);\n\t\n\t        return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n\t    }\n\t\n\t    Leaf.prototype.create = function create() {\n\t        var _this2 = this;\n\t\n\t        // Create Elements\n\t        var root = (0, _create2.default)(),\n\t            heading = (0, _create2.default)('h2').txt(this.props.heading),\n\t            span = (0, _create2.default)('span');\n\t\n\t        // Append children\n\t        root.append(heading, false).append(span);\n\t\n\t        // Show parameter if it is set\n\t        this.react(function (state) {\n\t            var params = state.Router.params;\n\t            if (params.length > 0) {\n\t                span.replace((0, _create.createText)('Param at index ' + _this2.props.paramIndex + ' = ' + params[_this2.props.paramIndex]));\n\t            }\n\t        });\n\t\n\t        // Return root\n\t        return root;\n\t    };\n\t\n\t    return Leaf;\n\t}(_Component3.default);\n\t\n\texports.default = Leaf;\n\t\n\tLeaf.defaultProps = {\n\t    heading: 'Leaf component',\n\t    paramIndex: 0\n\t};\n\n/***/ }\n/******/ ]);\n\n\n/** WEBPACK FOOTER **\n ** examples/router/dist/router.js\n **/"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 2a39b1b10df5aa8d1f65\n **/","// Component and content creation classes and functions\r\nimport Component from '../../../src/component/Component.js';\r\nimport c, { createText } from '../../../src/dom/create.js';\r\nimport addExtensions from '../../../src/dom/extension.js';\r\naddExtensions(); // Could add with prefix\r\n\r\n// Router classes and components\r\nimport Router, { Route, IndexRoute } from '../../../src/router/Router.js';\r\nimport Link from '../../../src/router/Link.js';\r\n\r\n// Example components with self-explanatory name\r\nimport Leaf from './components/Leaf.js';\r\nimport Branch from './components/Branch.js';\r\n\r\n// Setup root component\r\nclass App extends Component {\r\n    create() {\r\n        // Create needed Elements\r\n        const root = c(),\r\n            heading = c('h1').txt('Router example - Kompo'),\r\n            nav = c('nav'),\r\n            content = c('div');\r\n        content.classList.add('content');\r\n\r\n        // Create Link Components for the navigation\r\n        // and mount directly to root component\r\n        const index = this.mount(new Link('','Index')),\r\n            simple = this.mount(new Link('simple','Simple')),\r\n            // Feel free to change 123 part of the url to something else\r\n            param = this.mount(new Link('param/123','Param')),\r\n            branch = this.mount(new Link('branch','Nested index')),\r\n            branchSimple = this.mount(new Link('branch/simple','Nested simple')),\r\n            branchRooted = this.mount(new Link('rooted_nested','Rooted nested simple')),\r\n            // This link will fire the notFoundCallback, see below\r\n            nonExisting = this.mount(new Link('nonexisting','Non existing route'));\r\n\r\n        // Append links to the navigation\r\n        nav\r\n            .append(index, false)\r\n            .append(simple, false)\r\n            .append(param, false)\r\n            .append(branch, false)\r\n            .append(branchSimple, false)\r\n            .append(branchRooted, false)\r\n            .append(nonExisting, false);\r\n\r\n        // Attach the routed Component to the content div\r\n        this.mountRoutedComponent(content);\r\n\r\n        // Append children\r\n        root\r\n            .append(heading, false)\r\n            .append(nav, false)\r\n            .append(content, false);\r\n\r\n        // Return root\r\n        return root;\r\n    }\r\n}\r\n\r\n// Create route structure\r\nconst routes = new Route('/', new App, [\r\n    // Each route array needs a IndexRoute\r\n    new IndexRoute(new Leaf({\r\n        heading: 'Index component'\r\n    }))\r\n    ,new Route('simple', new Leaf({\r\n        heading: 'Simple component'\r\n    }))\r\n    ,new Route('param/:param', new Leaf({\r\n        heading: 'Route with a param, shown in Component'\r\n    }))\r\n    ,new Route('branch', new Branch, [\r\n        new IndexRoute(new Leaf({\r\n            heading: 'Nested index component'\r\n        }))\r\n        ,new Route('simple', new Leaf({\r\n            heading: 'Nested simple component'\r\n        }))\r\n        // Url is very simple, although it is a nested component\r\n        ,new Route('/rooted_nested', new Leaf({\r\n            heading: 'Rooted nested component'\r\n        }))\r\n    ])\r\n]);\r\n\r\n// An empty state for this example.\r\n// A state is needed because it contains the router\r\nconst state = {};\r\n\r\n// Create router and set a not found Callback\r\nconst router = new Router(state, routes, '/kompo/examples/router/', {\r\n    notFoundCallback: function(url) {\r\n        alert('Url: ' + url + ' not found');\r\n    }\r\n});\r\n\r\n// Get the root component by passing null as parameter\r\nconst app = router.getComponent(null);\r\n// Set the state (including the router) to the root component\r\napp.setState(state);\r\n// And append to body\r\ndocument.body.append(app);\r\n\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/examples/router/src/router.js\n **/","import RAF from '../utils/requestAnimationFrame.js';\r\nimport merge from '../utils/merge.js';\r\nimport replace from '../dom/replace.js';\r\nimport isFunction from '../utils/isFunction.js';\r\nimport matches from '../utils/matches.js'; // Self-executing\r\n\r\n/**\r\n * A Component instance represents an interface component\r\n * which is decoupled from context, except for it's child\r\n * components, properties and/or the state.\r\n *\r\n * Properties SHOULD be set through the constructor function,\r\n * but can also be provided by the means of setters. The later,\r\n * however, is not implemented and up to the user.\r\n *\r\n * A component makes no assumptions about the form which a state\r\n * has, handling state is left to implement for the user. The\r\n * Component class does however provide functions for consistently\r\n * handling state. Examples of such functions are:\r\n *\r\n * - Component::react()\r\n * - Component::mount()\r\n * - Component::on()\r\n */\r\nexport default class Component {\r\n    /**\r\n     * MAY be overridden, make sure to pass properties to the\r\n     * super() function. Overriding constructor MUST call super().\r\n     * @constructor\r\n     * @param {Object} props\r\n     */\r\n    constructor(props) {\r\n        // Merge props & defaultProps\r\n        // Do an Object.assign() to remove the reference to defaultProps\r\n        const defaultProps = Object.assign({},this.constructor.defaultProps);\r\n        if(typeof defaultProps !== 'undefined' && typeof props !== 'undefined') {\r\n            this.props = merge(defaultProps, props);\r\n        } else {\r\n            this.props = props || defaultProps || {};\r\n        }\r\n\r\n        this.statefulls = [];\r\n        this.mounts = [];\r\n        this.stateless = true;\r\n        this.isolated = false;\r\n        this.initial = true;\r\n    }\r\n\r\n    /**\r\n     * IMPORTANT: Only for internal use, MUST\r\n     * not be called by users.\r\n     *\r\n     * MUST return an Element which represents the root of a component.\r\n     *\r\n     * Most of the work for rendering the component\r\n     * MAY be done here. It CAN be broken up into\r\n     * smaller function, however Component::create()\r\n     * MUST always return the resulting root Element.\r\n     *\r\n     * @returns {Element}\r\n     */\r\n    create() {\r\n        throw new Error('Component must override the create method and return an Node object.');\r\n    }\r\n\r\n    /**\r\n     * Outside facing interface for rendering the component.\r\n     *\r\n     * Call this function instead of\r\n     * Component::create() or Component::update()\r\n     *\r\n     * @returns {Element} this.root - root of the component\r\n     */\r\n    render() {\r\n        if(this.initial) {\r\n            this.root = this.create();\r\n            this.initial = false;\r\n            Object.defineProperty(this.root, '__kompo_component__' , { writable: true,  value: this });\r\n            return this.root;\r\n        } else {\r\n            this.update();\r\n            return this.root\r\n        }\r\n    }\r\n\r\n    /**\r\n     * IMPORTANT: Only for internal use, MUST\r\n     * not be called by users.\r\n     *\r\n     * Updates the component and its child components,\r\n     * if these are not stateless or isolated\r\n     */\r\n    update() {\r\n        for(let i = 0, l = this.mounts.length; i < l; i++) {\r\n            const Component = this.mounts[i];\r\n            if(Component.stateless || Component.isolated) continue;\r\n            Component.update();\r\n        }\r\n\r\n        for(let i = 0, l = this.statefulls.length; i < l; i++) {\r\n            this.statefulls[i](this.state, this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Registers a statefull child component by:\r\n     *\r\n     * - Setting it as its parent\r\n     * - Passing along the state\r\n     *\r\n     * Components MAY be registered through Component::mount(),\r\n     * however those that are NOT ARE and WILL REMAIN stateless\r\n     * and will be excluded from the update cycle.\r\n     *\r\n     * If you only want to pass state without including\r\n     * it in the update cycle use: Component::setState().\r\n     *\r\n     * @param {Component} Component - child component\r\n     * @returns {Component} - child component\r\n     */\r\n    mount(Component) {\r\n        this.mounts.push(Component);\r\n        Component.setParent(this);\r\n        Component.setState(this.state);\r\n        return Component;\r\n    }\r\n\r\n    /**\r\n     * Unregisters the component from its parent component,\r\n     * removing it from the update cycle.\r\n     *\r\n     * Returns the parent component.\r\n     *\r\n     * @param {Component} Component - child component\r\n     * @returns {Component} - parent component\r\n     */\r\n    unmount(Component) {\r\n        const index = this.mounts.indexOf(Component);\r\n        this.mounts.splice(index, 1);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Unregisters the component from its parent component,\r\n     * removing it from the update cycle, by index of\r\n     * Component:mounts[]\r\n     *\r\n     * Returns the removed component.\r\n     *\r\n     * @param {Number} index\r\n     * @returns {Component} {*}\r\n     */\r\n    unmountByIndex(index) {\r\n        const Component = this.mounts[index];\r\n        this.mounts.splice(index, 1);\r\n        return Component;\r\n    }\r\n\r\n    /**\r\n     * IMPORTANT: Only for internal use, MUST\r\n     * not be called by users.\r\n     *\r\n     * Set the parent component of the component.\r\n     *\r\n     * Can produce unwanted side effect if set manually,\r\n     * because the compontent tree is changed.\r\n     *\r\n     * @param {Component} Component - child component\r\n     */\r\n    setParent(Component) {\r\n        this.parent = Component;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Registers a closure which is called on\r\n     * Component::update() and handles the state.\r\n     *\r\n     * Cannot be called on stateless Components.\r\n     *\r\n     * @callback fn\r\n     * @param {Function} fn - closure which handles the state.\r\n     * @returns {*} - return value of closure\r\n     */\r\n    react(fn) {\r\n        if(this.stateless) throw new Error('Set state (through mount() or setState()) before registering a react function.');\r\n        this.statefulls.push(fn);\r\n        return fn(this.state, this);\r\n    }\r\n\r\n    /**\r\n     * Specialized function for registering a\r\n     * routed Component. This has to be an Element\r\n     * which holds the rendered root Element of the\r\n     * router Component.\r\n     *\r\n     * @param {(Node|Function)} parent - closure(component, state, self)\r\n     * @returns {Component} - the routed component\r\n     */\r\n    mountRoutedComponent(parent) {\r\n        let isFn = false;\r\n        if(isFunction(parent)) {\r\n            isFn = true;\r\n        } else if(!parent instanceof Node) {\r\n            throw new Error('Routed Component cannot be assigned. Please make sure parent is a Node or a closure.');\r\n        }\r\n\r\n        return this.react((state, Self) => {\r\n            const Component = state.Router.getComponent(this);\r\n\r\n            if(Component) {\r\n                Component.setParent(this);\r\n                Component.setState(state);\r\n                if(isFn) {\r\n                    parent.bind(this)(Component, state, Self);\r\n                } else {\r\n                    replace(parent, Component);\r\n                }\r\n            }\r\n\r\n            return Component;\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Set the state for the component & marks\r\n     * the component as statefull.\r\n     *\r\n     * Does not register for the component to\r\n     * the update cycle, for this use:\r\n     * Component::mount()\r\n     *\r\n     * @param {Object} state\r\n     * @returns {Component} - self\r\n     */\r\n    setState(state) {\r\n        this.stateless = false;\r\n        this.state = state;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Set state but also isolates the Component\r\n     * from its parent and the update cycle\r\n     *\r\n     * Child components are updated only if the\r\n     * update cycle is started from within the isolated\r\n     * component, for example by events.\r\n     *\r\n     * @param {Object} state\r\n     * @returns {Component} - self\r\n     */\r\n    setIsolatedState(state) {\r\n        this.setState(state);\r\n        this.isolated = true;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Enables the user to nest Components and Nodes\r\n     *\r\n     * The nest function should be used twice,\r\n     * one time to define its place within the\r\n     * component (called without callback parameter)\r\n     * and one time with to define what should be\r\n     * nested (within a callback).\r\n     *\r\n     * @param {Function} [callback]\r\n     * @returns {(Component|Node|DocumentFragment|*)}\r\n     */\r\n    nest(callback) {\r\n        if (arguments.length === 1) {\r\n            if(!isFunction(callback)) {\r\n                throw new Error('Nesting callback should be a function, please provide a valid callback.');\r\n            }\r\n\r\n            this.nest = callback;\r\n            return this;\r\n        } else {\r\n            return this.nest(this.state, this);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Adds an event listener or delegated event listener\r\n     * to the provided element and triggers the update cycle\r\n     * on its root component.\r\n     *\r\n     * If a component in the tree is marked as isolated. This\r\n     * component will be the root for the update cycle.\r\n     *\r\n     * @callback (fn|dFn)\r\n     * @param {Element} el - element to attach listener on\r\n     * @param {string} type | children - type of event or children selector for event delegation\r\n     * @param {(Function|string)} fn | type - closure for event or type of event\r\n     * @param {(undefined|Function)} [dFn] | type - closure for delegated event or undefined\r\n     * @returns {Component} - self\r\n     */\r\n    on(el, type, fn, dFn) {\r\n        const Component = this;\r\n        if(arguments.length === 4) {\r\n            const children = type;\r\n            type = fn;\r\n            fn = dFn;\r\n\r\n            el.addEventListener(type, function(e) {\r\n                let event, ChildComponent;\r\n\r\n                for (let target=e.target; target && target!=this; target=target.parentNode) {\r\n                    // loop parent nodes from the target to the delegation node\r\n                    if (target.matches(children)) {\r\n                       event = e;\r\n                    }\r\n\r\n                    if(typeof target.__kompo_component__ !== 'undefined') {\r\n                        ChildComponent = target.__kompo_component__;\r\n                        break;\r\n                    }\r\n                }\r\n\r\n                if(typeof event !== 'undefined') {\r\n                    eventListenerCallback(Component, fn, event, Component.state, ChildComponent);\r\n                }\r\n            }, false);\r\n        } else {\r\n            el.addEventListener(type, (e) => {\r\n                eventListenerCallback(Component, fn, e, Component.state);\r\n            }, false);\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Removes the event listener on the given element &\r\n     * of a certain type.\r\n     *\r\n     * @param {Element} el - element for detaching a type of event listeners\r\n     * @param {string} type - type of event\r\n     * @returns {Component} - self\r\n     */\r\n    off(el, type) {\r\n        el.removeEventListener(type, eventListenerCallback, false);\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Gets root component of current component\r\n     *\r\n     * @returns {Component} root\r\n     */\r\n    getRoot() {\r\n        if(typeof this.parent !== 'undefined' && !this.isolated) {\r\n            let parent = this.parent;\r\n            while (typeof parent.parent !== 'undefined' && !parent.isolated) {\r\n                parent = parent.parent\r\n            }\r\n            return parent;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Callback for event listeners set through\r\n * Component::on().\r\n *\r\n * Recurses to the root and starts the update\r\n * cycle from this root.\r\n *\r\n * If a component in the tree is marked as isolated. This\r\n * component will be the root for the update cycle.\r\n *\r\n * @callback fn\r\n * @param {Component} Component - which the event callback is called\r\n * @param {Function} fn - closure for event callback\r\n * @param {Event} e - Event of callback\r\n * @param {*} state - application state\r\n * @param {Component} ChildComponent - The child component in a delegated call\r\n */\r\nfunction eventListenerCallback(Component, fn, e, state, ChildComponent) {\r\n    if(fn.call(Component, e, state, Component, ChildComponent)) {\r\n        const root = Component.getRoot();\r\n        if(root === null) {\r\n            RAF(Component.update.bind(Component));\r\n        } else {\r\n            RAF(root.update.bind(root));\r\n        }\r\n    }\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/src/component/Component.js\n **/","const doc = document;\r\n\r\n/**\r\n * Creates an Element, when no tagName\r\n * is given it create an empty div to serve\r\n * as root.\r\n *\r\n * @param {string|undefined} tagName\r\n * @returns {Element}\r\n */\r\nexport default function create(tagName, attributes) {\r\n    let Element;\r\n    if(typeof tagName === 'undefined') {\r\n        Element = doc.createElement('div');\r\n    } else {\r\n        Element = doc.createElement(tagName);\r\n    }\r\n\r\n    if(typeof attributes !== 'undefined') {\r\n        addAttributes(Element, attributes);\r\n    }\r\n\r\n    return Element\r\n}\r\n\r\n/**\r\n * Adds attributes to an Element\r\n * through iterating through an object\r\n *\r\n * @param {Element} Element\r\n * @param {Object} obj\r\n * @returns {Element}\r\n */\r\nexport function addAttributes(Element, obj) {\r\n    const keys = Object.keys(obj);\r\n    for(let i = 0, l = keys.length; i < l; i++) {\r\n        const key = keys[i],\r\n            value = obj[key];\r\n        Element.setAttribute(key, value);\r\n    }\r\n    return Element;\r\n\r\n}\r\n\r\n/**\r\n * Syntactic sugar for creating a DocumentFragment\r\n *\r\n * @returns {DocumentFragment}\r\n */\r\nexport function createFragment() {\r\n    return doc.createDocumentFragment();\r\n}\r\n\r\n/**\r\n * Syntactic sugar for creating a TextNode\r\n *\r\n * @param {string} str\r\n * @returns {Text}\r\n */\r\nexport function createText(str) {\r\n    return doc.createTextNode(str);\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/src/dom/create.js\n **/","/**\r\n * Checks if given variable is a function\r\n *\r\n * @param {*} functionToCheck\r\n * @returns {boolean}\r\n */\r\nexport default function isFunction(functionToCheck) {\r\n    var getType = {};\r\n    return functionToCheck && getType.toString.call(functionToCheck) === '[object Function]';\r\n}\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/src/utils/isFunction.js\n **/","/**\r\n * Checks if `value` is the language type of `Object`.\r\n * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\r\n *\r\n * **Note:** See the [ES5 spec](https://es5.github.io/#x8) for more details.\r\n *\r\n * @static\r\n * @memberOf _\r\n * @category Lang\r\n * @param {*} value The value to check.\r\n * @returns {boolean} Returns `true` if `value` is an object, else `false`.\r\n * @example\r\n *\r\n * _.isObject({});\r\n * // => true\r\n *\r\n * _.isObject([1, 2, 3]);\r\n * // => true\r\n *\r\n * _.isObject(1);\r\n * // => false\r\n */\r\nexport default function isObject(value) {\r\n    // Avoid a V8 JIT bug in Chrome 19-20.\r\n    // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\r\n    var type = typeof value;\r\n    return type == 'function' || (value && type == 'object') || false;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/src/utils/isObject.js\n **/","import c from './create.js';\r\nimport Component from '../component/Component.js';\r\nimport isObject from '../utils/isObject.js';\r\nimport { addAttributes } from './create.js'\r\n\r\n/**\r\n *  Replaces an Node for another one\r\n *\r\n * @param {Node} parent - parent element to replace child on\r\n * @param {*} child - new child to replace for old child\r\n * @param {boolean} replaceLastChild - replace first or last child\r\n * @returns {Node} child - child element\r\n */\r\nexport default function replace(parent, child, replaceLastChild = false, rLC = false) {\r\n    const arg2isObject = isObject(arguments[2]);\r\n    let replacedChild;\r\n    if (arg2isObject) {\r\n         replacedChild = rLC?\r\n            parent.lastChild:\r\n            parent.firstChild;\r\n    } else {\r\n        replacedChild = replaceLastChild?\r\n            parent.lastChild:\r\n            parent.firstChild;\r\n    }\r\n\r\n    if (typeof child === 'string') {\r\n        child = c(child);\r\n    }\r\n\r\n    if(child instanceof Component) {\r\n        child = child.render()\r\n    }\r\n\r\n    if(arg2isObject) {\r\n        addAttributes(child, replaceLastChild);\r\n    }\r\n\r\n    if(replacedChild) {\r\n        parent.replaceChild(child, replacedChild);\r\n    } else  {\r\n        parent.appendChild(child)\r\n    }\r\n\r\n    return child;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/src/dom/replace.js\n **/","/**\r\n * Merges given objects\r\n *\r\n * @param {...Object} objs - Any given amount of objects\r\n * @returns {Object}\r\n */\r\nexport default function merge(){\r\n    var object = Array.prototype.shift.call(arguments);\r\n    for (let i = 0; i < arguments.length; i++) {\r\n        let obj = arguments[i];\r\n        for (let j in obj) {\r\n            object[j] = obj[j];\r\n        }\r\n    }\r\n\r\n    return object;\r\n}\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/src/utils/merge.js\n **/","/**\r\n * RequestAnimationFrame polyfill\r\n *\r\n * @returns {*}\r\n */\r\nexport default (function requestAnimationFrame(){\r\n    return  window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function( callback ){ window.setTimeout(callback, 1000 / 60); };\r\n}())\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/src/utils/requestAnimationFrame.js\n **/","/**\r\n * Polyfills the matches function on Elements\r\n *\r\n * Used with event delegation in Components class\r\n */\r\nexport default (function() {\r\n    if (!Element.prototype.matches) {\r\n        const ep = Element.prototype;\r\n\r\n        if (ep.webkitMatchesSelector) // Chrome <34, SF<7.1, iOS<8\r\n            ep.matches = ep.webkitMatchesSelector;\r\n\r\n        if (ep.msMatchesSelector) // IE9/10/11 & Edge\r\n            ep.matches = ep.msMatchesSelector;\r\n\r\n        if (ep.mozMatchesSelector) // FF<34\r\n            ep.matches = ep.mozMatchesSelector;\r\n    }\r\n}());\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/src/utils/matches.js\n **/","import capitalize from '../utils/capitalize';\r\nimport Component from '../component/Component.js';\r\nimport replace from './replace.js';\r\nimport { addAttributes } from './create.js';\r\nimport isObject from '../utils/isObject.js';\r\n\r\n/**\r\n * DOM extension can be prefixed with arbitrary string\r\n *\r\n * @param {string} prefix\r\n */\r\nexport default function extension(prefix) {\r\n    // Prevent lookups\r\n    const noPrefix = typeof prefix === 'undefined',\r\n        doc = document,\r\n        ElementPrototype = Element.prototype,\r\n        FragPrototype = DocumentFragment.prototype;\r\n\r\n    /**\r\n     * Returns (prefixed) methodName\r\n     *\r\n     * @param methodName\r\n     * @returns {string}\r\n     */\r\n    function addPrefix(methodName) {\r\n        if(noPrefix) {\r\n            return methodName;\r\n        }\r\n\r\n        return prefix + capitalize(methodName);\r\n    }\r\n    /**\r\n     * Syntactic sugar for getting/setting a attribute.\r\n     *\r\n     * @param {string} name\r\n     * @param {*} value\r\n     * @returns {*|Element}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('attr'), { value: function (name, value) {\r\n        if (arguments.length === 1) {\r\n            return this.getAttribute(name);\r\n        } else {\r\n            this.setAttribute(name, value);\r\n            return this;\r\n        }\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for checking if an attribute exists.\r\n     *\r\n     * @param {string} name\r\n     * @returns {boolean}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('hasAttr'), { value: function (name) {\r\n        return this.hasAttribute(name);\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for removing an attribute.\r\n     *\r\n     * @param {string} name\r\n     * @returns {Element}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('removeAttr'), { value: function (name) {\r\n        this.removeAttribute(name);\r\n        return this;\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for getting or setting a TextNode.\r\n     *\r\n     * @param {string} txt\r\n     * @returns {Element|Text}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('txt'), { value: function (txt) {\r\n        if (arguments.length === 1) {\r\n            this.appendChild(doc.createTextNode(txt));\r\n            return this;\r\n        } else {\r\n            return this.textContent;\r\n        }\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for appending an Element.\r\n     *\r\n     * @param {*} child\r\n     * @param {boolean} chain\r\n     * @returns {Element}\r\n     */\r\n    const appendFnName = addPrefix('append'),\r\n        appendFn = function (child, chain = true, ch = true) {\r\n            if (typeof child === 'string') {\r\n                child = doc.createElement(child);\r\n            }\r\n\r\n            if(child instanceof Component) {\r\n                child = child.render();\r\n            }\r\n\r\n            this.appendChild(child);\r\n\r\n            if (isObject(arguments[1])) {\r\n                addAttributes(child, chain);\r\n                return ch ? child: this;\r\n            } else {\r\n                return chain ? child: this;\r\n            }\r\n\r\n        };\r\n    Object.defineProperty(ElementPrototype, appendFnName, { value: appendFn });\r\n    Object.defineProperty(FragPrototype, appendFnName, { value: appendFn });\r\n\r\n    /**\r\n     * Syntactic sugar for appending an Element\r\n     * on the parent of current Element.\r\n     *\r\n     * @param {*} child\r\n     * @param {boolean} chain\r\n     * @returns {Element}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('parentAppend'), { value: function (child, chain = true, ch = true) {\r\n        return this.parentNode.append(child, chain, ch);\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for appending an cloned Element\r\n     * to its parent.\r\n     *\r\n     * BEWARE: It does not copy event listeners\r\n     * BEWARE: deep option can have serious performance implications\r\n     *\r\n     * @param {boolean} deep = deep copy or not\r\n     * @returns {Element}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('cloneAppend'), { value: function (deep = false ) {\r\n        return this.parentNode.append(this.cloneNode(deep));\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for cloning an Element\r\n     *\r\n     * BEWARE: It does not copy event listeners\r\n     * BEWARE: deep option can have serious performance implications\r\n     *\r\n     * @param {boolean} deep = deep copy or not\r\n     * @returns {Element}\r\n     */\r\n    const cloneFnName = addPrefix('clone'),\r\n        cloneFn = function (deep = false ) {\r\n            return this.cloneNode(deep);\r\n        };\r\n    Object.defineProperty(ElementPrototype, cloneFnName, { value: cloneFn });\r\n    Object.defineProperty(FragPrototype, cloneFnName, { value: cloneFn });\r\n\r\n    /**\r\n     * Syntactic sugar for prepending an Element.\r\n     *\r\n     * @param {*} child\r\n     * @param {boolean} chain\r\n     * @returns {Element}\r\n     */\r\n    const prependFnName = addPrefix('prepend'),\r\n        prependFn = function (child, chain = true, ch = true) {\r\n            let firstChild = this.firstChild;\r\n\r\n            if (typeof child === 'string') {\r\n                child = doc.createElement(child);\r\n            }\r\n\r\n            if(child instanceof Component) {\r\n                child = child.render()\r\n            }\r\n\r\n            if(firstChild) {\r\n                this.insertBefore(child, firstChild);\r\n            } else  {\r\n                this.append(child)\r\n            }\r\n\r\n            if (isObject(arguments[1])) {\r\n                addAttributes(child, chain);\r\n                return ch ? child: this;\r\n            } else {\r\n                return chain ? child: this;\r\n            }\r\n\r\n        };\r\n    Object.defineProperty(ElementPrototype, prependFnName, { value: prependFn });\r\n    Object.defineProperty(FragPrototype, prependFnName, { value: prependFn });\r\n\r\n    /**\r\n     * Syntactic sugar for getting the parent Element.\r\n     *\r\n     * @returns {Element|Node}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('parent'), { value: function () {\r\n        return this.parentElement || this.parentNode;\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for checking if the Element\r\n     * has a parent.\r\n     *\r\n     * @returns {boolean}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('hasParent'), { value: function () {\r\n        return !(this.parentElement === null && this.parentNode === null);\r\n    }});\r\n\r\n    /**\r\n     * Recurse to the root Element (which has no parent)\r\n     *\r\n     * @returns {Element|Node}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('root'), { value: function (parent) {\r\n        parent = !parent?\r\n        this.parentElement || this.parentNode:\r\n            parent;\r\n\r\n        while ((parent.parentElement || parent.parentNode) !== null) {\r\n            parent = this.root(parent.parentElement || parent.parentNode);\r\n        }\r\n\r\n        return parent;\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for document.querySelector()\r\n     *\r\n     * @param {string} selector\r\n     * @returns {Element}\r\n     */\r\n    const queryFnName = addPrefix('query'),\r\n        queryFn = function (selector) {\r\n            return this.querySelector(selector);\r\n        };\r\n    Object.defineProperty(ElementPrototype, queryFnName, { value: queryFn });\r\n    Object.defineProperty(FragPrototype, queryFnName, { value: queryFn });\r\n\r\n    /**\r\n     * Syntactic sugar for document.querySelectorAll()\r\n     *\r\n     * @param {string} selector\r\n     * @returns {HTMLCollection}\r\n     */\r\n    const queryAllFnName = addPrefix('queryAll'),\r\n        queryAllFn = function (selector) {\r\n            return this.querySelectorAll(selector);\r\n        };\r\n    Object.defineProperty(ElementPrototype, queryAllFnName, { value:queryAllFn });\r\n    Object.defineProperty(FragPrototype, queryAllFnName, { value:queryAllFn });\r\n\r\n    /**\r\n     * Syntactic sugar/polyfill for Element.remove()\r\n     *\r\n     * @returns {Element}\r\n     */\r\n    if (!('remove' in ElementPrototype)) {\r\n        Object.defineProperty(ElementPrototype, addPrefix('remove'), {\r\n            value: function () {\r\n                let parent = this.parentNode;\r\n                if (parent) {\r\n                    parent.removeChild(this);\r\n                }\r\n            }\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Syntactic sugar for removing all child Elements\\Nodes\r\n     *\r\n     * @returns {Element}\r\n     */\r\n    const emptyFnName = addPrefix('empty'),\r\n        emptyFn = function () {\r\n            while (this.lastChild) {\r\n                this.removeChild(this.lastChild);\r\n            }\r\n            return this;\r\n        };\r\n    Object.defineProperty(ElementPrototype, emptyFnName, { value: emptyFn});\r\n    Object.defineProperty(FragPrototype, emptyFnName, { value: emptyFn});\r\n\r\n    /**\r\n     * Syntactic sugar for logging\r\n     *\r\n     * When chain methods it can be used to log an Element\r\n     * right in the middle of the chain.\r\n     *\r\n     * @returns {Element}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('log'), { value: function () {\r\n        console.log(this);\r\n        return this;\r\n    }});\r\n\r\n    /**\r\n     * @see ./replace.js\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('replace'), { value: function (child, replaceLastChild = false) {\r\n        return replace(this, child, replaceLastChild);\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for replacing the\r\n     * current Element with a new one.\r\n     *\r\n     * BEWARE: a parent Element must exist\r\n     *\r\n     * @returns {Element} - return the new Element\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('replaceWith'), { value: function (newElement, attributes) {\r\n        if (typeof newElement === 'string') {\r\n            newElement = doc.createElement(newElement);\r\n        }\r\n\r\n        if(typeof attributes !== 'undefined') {\r\n            addAttributes(newElement, attributes);\r\n        }\r\n\r\n        this.parentNode.replaceChild(this, newElement);\r\n        return newElement;\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for inserting an Element\r\n     * before another Element\r\n     *\r\n     * BEWARE: a parenNode needs to be available\r\n     *\r\n     * @returns {Element} - the new Element\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('before'), { value: function (newSibling, attributes) {\r\n        let parentNode = this.parentNode;\r\n\r\n        if (typeof newSibling === 'string') {\r\n            newSibling = doc.createElement(newSibling);\r\n        }\r\n\r\n        if(newSibling instanceof Component) {\r\n            newSibling = newSibling.render()\r\n        }\r\n\r\n        if(typeof attributes !== 'undefined') {\r\n            addAttributes(newSibling, attributes);\r\n        }\r\n\r\n        if (parentNode) {\r\n            parentNode.insertBefore(newSibling, this);\r\n        }\r\n        return newSibling;\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for inserting an Element\r\n     * after another Element\r\n     *\r\n     * BEWARE: a parenNode needs to be available\r\n     *\r\n     * @returns {Element} - the new Element\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('after'), { value: function (newSibling, attributes) {\r\n        let parentNode = this.parentNode,\r\n            nextSibling = this.nextSibling;\r\n\r\n        if (typeof newSibling === 'string') {\r\n            newSibling = doc.createElement(newSibling);\r\n        }\r\n\r\n        if(newSibling instanceof Component) {\r\n            newSibling = newSibling.render()\r\n        }\r\n\r\n        if(typeof attributes !== 'undefined') {\r\n            addAttributes(newSibling, attributes);\r\n        }\r\n\r\n        if (parentNode) {\r\n            if (nextSibling) {\r\n                parentNode.insertBefore(newSibling, nextSibling);\r\n            } else {\r\n                parentNode.appendChild(newSibling);\r\n            }\r\n        }\r\n\r\n        return newSibling;\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for getting/setting the id\r\n     * of an Element\r\n     *\r\n     * @param {*} id\r\n     * @returns {string|Element}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('i'), { value: function (id) {\r\n        if (arguments.length === 0) {\r\n            return this.id;\r\n        } else {\r\n            this.id = id;\r\n            return this;\r\n        }\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for getting/setting the name\r\n     * of an Element\r\n     *\r\n     * @param {*} name\r\n     * @returns {string|Element}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('n'), { value: function (name) {\r\n        if (arguments.length === 0) {\r\n            return this.name;\r\n        } else {\r\n            this.name = name;\r\n            return this;\r\n        }\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for getting/setting the href\r\n     * of an Element\r\n     *\r\n     * @param {*} href\r\n     * @returns {string|Element}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('h'), { value: function (href) {\r\n        if (arguments.length === 0) {\r\n            return this.href;\r\n        } else {\r\n            this.href = href;\r\n            return this;\r\n        }\r\n    }});\r\n\r\n    /**\r\n     * Syntactic sugar for getting/setting the value\r\n     * of an Element\r\n     *\r\n     * @param {*} value\r\n     * @returns {string|Element}\r\n     */\r\n    Object.defineProperty(ElementPrototype, addPrefix('v'), { value: function (value) {\r\n        if (arguments.length === 0) {\r\n            return this.value;\r\n        } else {\r\n            this.value = value;\r\n            return this;\r\n        }\r\n    }});\r\n}\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/src/dom/extension.js\n **/","/**\n * Capitalizes string\n *\n * @param {string} str\n * @returns {string}\n */\nexport default function capitalize(str)\t{\n    if(typeof str ===  \"string\"){\n        return str.charAt(0).toUpperCase() + str.slice(1);\n    }\n}\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/src/utils/capitalize.js\n **/","import Component from '../component/Component.js';\r\nimport isFunction from '../utils/isFunction.js';\r\n\r\n/**\r\n * Represents a Link\r\n *\r\n * @class\r\n * @classdesc This link is picked up by the Router and\r\n * subsequently routed to correct path of the\r\n * application.\r\n * @augments Component\r\n */\r\nexport default class Link extends Component {\r\n    /**\r\n     * Create a Link instance\r\n     *\r\n     * @param {string} url\r\n     * @param {string|Component|Node} child\r\n     * @param {Object} [props]\r\n     *\r\n     */\r\n    constructor(url, child, props) {\r\n        super(props);\r\n        this.url = url;\r\n        this.child = child;\r\n    }\r\n\r\n    /**\r\n     * @inheritdoc\r\n     *\r\n     * @throws an error if incorrect child is provided\r\n     * @returns {Node}\r\n     */\r\n    create() {\r\n        // Create root element\r\n        const a = document.createElement('a'),\r\n            classNames = this.props.classNames,\r\n            classNamesLength = classNames.length;\r\n\r\n        // Add classes\r\n        if (classNamesLength > 0) {\r\n            for (let i = 0; i < classNamesLength; ++i) {\r\n                a.classList.add(classNames[i]);\r\n            }\r\n        }\r\n\r\n        this.react((state) => {\r\n            const activeClass = this.props.activeClass;\r\n            if(state.Router.isUrl(this.url)) {\r\n                a.classList.add(activeClass);\r\n            } else {\r\n                a.classList.remove(activeClass);\r\n            }\r\n        });\r\n\r\n        // Set href\r\n        a.setAttribute('href', this.url);\r\n\r\n        // Add child\r\n        if(typeof this.child === 'string') {\r\n            a.appendChild(document.createTextNode(this.child));\r\n        } else if(this.child instanceof Component) {\r\n            this.mount(this.child);\r\n            a.appendChild(this.child.render());\r\n        } else if(this.child instanceof Node) {\r\n            a.appendChild(this.child);\r\n        } else if(isFunction(this.nest)) {\r\n            a.appendChild(this.nest());\r\n        } else {\r\n            throw new Error('Child should be a string, Component, Node or a nest callback');\r\n        }\r\n\r\n        // Add event\r\n        this.on(a, this.props.defaultEvent, (e, state) => {\r\n            e.preventDefault();\r\n            return state.Router.goTo(this.url, this.props.title, this.props.data);\r\n        });\r\n\r\n        return a;\r\n    }\r\n}\r\n\r\n// Set default properties\r\nLink.defaultProps = {\r\n    classNames: [],\r\n    data: {}, // Data to push with pushState()\r\n    title: '',\r\n    defaultEvent: 'click',\r\n    activeClass: 'active'\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/src/router/Link.js\n **/","import RAF from '../utils/requestAnimationFrame.js';\r\nimport merge from '../utils/merge.js';\r\nimport isFunction from '../utils/isFunction.js';\r\nimport Component from '../component/Component.js';\r\n\r\n/**\r\n * Router class which works\r\n * closely together with the Component class\r\n * in order to facilitate routing and efficient\r\n * creation, rendering and updating\r\n *\r\n * @see router examples for usage\r\n */\r\nexport default class Router {\r\n    /**\r\n     * Create the Router\r\n     *\r\n     * @constructor\r\n     * @param {Object} state\r\n     * @param {Route} Route\r\n     * @param {string} [base]\r\n     * @param {Object} [options]\r\n     */\r\n    constructor(state, Route, base = '', options = {}) {\r\n        // Add self (Router) to state\r\n        // TODO: Make this configurable?\r\n        state.Router = this;\r\n        this.state = state;\r\n        this.options = merge({\r\n            notFoundCallback: null\r\n        }, options);\r\n        this.setBase(base);\r\n        this.url = '/';\r\n        this.rawRoutes = {};\r\n        this.routes = {};\r\n        this.index = 0;\r\n        this.params = [];\r\n\r\n        this.parseRoute(Route);\r\n\r\n        window.addEventListener('popstate', ()=>{\r\n            this.setUrl(window.location.pathname.replace(this.base,''));\r\n            // Just update the whole tree from the root up.\r\n            const component = this.getCurrentComponent(null);\r\n            RAF(component.update.bind(component));\r\n        });\r\n    }\r\n\r\n    /**\r\n     * Sets and normalizes the base used in\r\n     * Router::goTo()\r\n     *\r\n     * @param {string} base\r\n     */\r\n    setBase(base) {\r\n        if(base[0] !== '/') {\r\n            base = '/' + base;\r\n        }\r\n\r\n        if(base.slice(-1) === '/') {\r\n            base = base.slice(0,-1);\r\n        }\r\n\r\n        this.base = base;\r\n    }\r\n\r\n    /**\r\n     * Makes use of history.pushState to\r\n     * push the url of the browser.\r\n     *\r\n     * Also stores is as current url in the Router\r\n     *\r\n     * BEWARE: uses this.base\r\n     * BEWARE: sets this.data\r\n     *\r\n     * @param {string} url - url to navigate to\r\n     * @param {string} [title] - title of the page to navigate\r\n     * @param {*} [data] - data set\r\n     * @returns {boolean} - return true to cause a possible update cycle\r\n     */\r\n    goTo(url, title = null, data = null) {\r\n        if(this.isUrl(url)) return false;\r\n        this.setUrl(url);\r\n        // TODO: What can we possibly do with this?\r\n        this.data = data;\r\n        history.pushState(data, title, this.base + this.url);\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Gets the next component from the routed path\r\n     *\r\n     * BEWARE: When called it increments the Router's\r\n     * index in order for it to return the next element\r\n     * on the next call.\r\n     *\r\n     * @param {Component} parent\r\n     * @returns {Component} next\r\n     */\r\n    getComponent(parent) {\r\n        if(parent instanceof Component) {\r\n            this.index = parent.level + 1;\r\n        }\r\n\r\n        return this.match(this.url, this.routes)[this.index];\r\n    }\r\n\r\n    /**\r\n     * Gets the current component from the routed path\r\n     *\r\n     * @param {Component} parent\r\n     * @returns {Component} current\r\n     */\r\n    getCurrentComponent(parent) {\r\n        const isNull = parent === null;\r\n        if(!isNull || !parent instanceof Component) {\r\n            throw new Error('Cannot get current Component.Parameter parent must be null for the root parent or a Component to return its child component');\r\n        }\r\n        const path = this.match(this.url, this.routes);\r\n        return isNull? path[0]: path[parent.level + 1];\r\n    }\r\n\r\n    /**\r\n     * Matches an url to a parsed route regex\r\n     * and returns the path of Components\r\n     *\r\n     * BEWARE: Assigns the matched groups to the Router's\r\n     * params\r\n     *\r\n     * @param {string} url\r\n     * @param {Object} against - regex keyed object with the route paths as values\r\n     * @returns {Array} path - array of the components in the matched path\r\n     */\r\n    match(url, against) {\r\n        const keys = Object.keys(against);\r\n        for(let i = 0, l = keys.length; i < l; i++) {\r\n            const regexstr = keys[i],\r\n                match = url.match(new RegExp('^' + regexstr + '$'));\r\n            if(match !== null) {\r\n                match.shift();\r\n                this.params = match;\r\n                return against[regexstr];\r\n            }\r\n        }\r\n\r\n        if(isFunction(this.options.notFoundCallback)) {\r\n            this.options.notFoundCallback.call(this, url);\r\n        } else {\r\n            throw new Error('No matching route found for url: '+url+'. Provide a notFoundCallback callback option or correct the url or route.');\r\n        }\r\n        return []; // Return empty array to keep it all running\r\n    }\r\n\r\n    /**\r\n     * Gets and possibily normalizes the url\r\n     *\r\n     * @param {boolean} [rooted]\r\n     * @returns {string} url - url from Router\r\n     */\r\n    getUrl(rooted = true) {\r\n        return rooted? this.url: this.url.substring(1);\r\n    }\r\n\r\n    /**\r\n     * Sets and normalized a url\r\n     * @param {string} url\r\n     */\r\n    setUrl(url) {\r\n        this.url = url[0] === '/'? url: '/' + url;\r\n    }\r\n\r\n    /**\r\n     * Compares an url to the current Router url\r\n     *\r\n     * @param {string} url\r\n     * @returns {boolean} - If true is return the urls match\r\n     */\r\n    isUrl(url) {\r\n        url = url[0] === '/'? url: '/' + url;\r\n        return this.url === url;\r\n    }\r\n\r\n    /**\r\n     * IMPORTANT: Only for internal use, MUST\r\n     * not be called by users.\r\n     *\r\n     * Start building paths for the configured Routes\r\n     * and finishes the regexes.\r\n     *\r\n     * BEWARE: sets this.routes\r\n     *\r\n     * Finished\r\n     * @param Route\r\n     */\r\n    parseRoute(Route) {\r\n        this.buildPath(Route);\r\n\r\n        const rawKeys = Object.keys(this.rawRoutes);\r\n        for(let i = 0, l = rawKeys.length; i < l; i++) {\r\n            const k = rawKeys[i],\r\n                // TODO: Could this be improved?\r\n                nk = k.replace(/(:([\\w-]+))/g, '([\\\\w-]+)')\r\n                    .replace(/\\//g,'\\\\/');\r\n            this.routes[nk] = this.rawRoutes[k];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * IMPORTANT: Only for internal use, MUST\r\n     * not be called by users.\r\n     *\r\n     * Recursive function which parses Route instances\r\n     * and its children routes.\r\n     *\r\n     * It builds the regex keyed objects with a path of\r\n     * Components as values to match an incoming url to.\r\n     *\r\n     * BEWARE: sets this.rawRoutes\r\n     *\r\n     * @param {Route} Route\r\n     * @param {Array} [ancestors] - previous Components\r\n     * @param {Number} [level] - level of nested Routes\r\n     */\r\n    buildPath(Route, ancestors = [], level = 0) {\r\n        const children = Route.children,\r\n            routeComponent = Route.component;\r\n        routeComponent.level = level;\r\n\r\n        if(!children) return;\r\n\r\n        const basePath = Route.path,\r\n            isRoot = ancestors.length === 0;\r\n\r\n        for(let i = 0, l = children.length; i < l; i++) {\r\n            const childRoute = children[i],\r\n                componentPath = !isRoot ?\r\n                    ancestors.concat(childRoute.component):\r\n                    ancestors.concat(routeComponent, childRoute.component);\r\n            let path;\r\n\r\n            if(childRoute.path[0] === '/') {\r\n                path = childRoute.path;\r\n            } else if(isRoot) {\r\n                path = basePath + childRoute.path;\r\n            } else if(childRoute instanceof IndexRoute) {\r\n                path = basePath;\r\n            } else {\r\n                path = basePath + '/' + childRoute.path;\r\n            }\r\n\r\n            childRoute.path = path;\r\n            this.rawRoutes[path] = componentPath;\r\n            this.buildPath(childRoute, componentPath, level + 1);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Normal route\r\n * @see router example for usage\r\n */\r\nexport class Route {\r\n    /**\r\n     * @constructor\r\n     * @param {string} path - partial or absolute path to Component\r\n     * @param {Component} Component - component belonging to path\r\n     * @param {Array} [children] - child Routes\r\n     */\r\n    constructor(path, Component, children = []) {\r\n        this.path = path;\r\n        this.component = Component;\r\n        this.children = children;\r\n    }\r\n}\r\n\r\n/**\r\n * Default route of a collection of Routes.\r\n * @see router example for usage\r\n */\r\nexport class IndexRoute extends Route {\r\n    /**\r\n     * Path is always the path of its parent\r\n     * @constructor\r\n     * @param {Component} Component\r\n     */\r\n    constructor(Component) {\r\n        super('', Component);\r\n    }\r\n}\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/src/router/Router.js\n **/","import Component from '../../../../src/component/Component.js';\r\nimport c, { createText } from '../../../../src/dom/create.js';\r\n\r\nexport default class Branch extends Component {\r\n    create() {\r\n        // Create Elements\r\n        const root = c(),\r\n            heading = c('h2').txt(this.props.heading),\r\n            content = c('div');\r\n        content.classList.add('content');\r\n\r\n        // Append children\r\n        root\r\n            .append(heading, false)\r\n            .append(content);\r\n\r\n        // Attach the routed Component to the content div\r\n        this.mountRoutedComponent(content);\r\n\r\n        // Return root\r\n        return root;\r\n    }\r\n}\r\n\r\nBranch.defaultProps = {\r\n    heading: 'Branch component'\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/examples/router/src/components/Branch.js\n **/","import Component from '../../../../src/component/Component.js';\r\nimport c, { createText } from '../../../../src/dom/create.js';\r\n\r\nexport default class Leaf extends Component {\r\n    create() {\r\n        // Create Elements\r\n        const root = c(),\r\n            heading = c('h2').txt(this.props.heading),\r\n            span = c('span');\r\n\r\n        // Append children\r\n        root\r\n            .append(heading, false)\r\n            .append(span);\r\n\r\n        // Show parameter if it is set\r\n        this.react((state) => {\r\n            const params = state.Router.params;\r\n            if(params.length > 0) {\r\n                span.replace(createText('Param at index ' + this.props.paramIndex + ' = ' + params[this.props.paramIndex]));\r\n            }\r\n        });\r\n\r\n        // Return root\r\n        return root;\r\n    }\r\n}\r\n\r\nLeaf.defaultProps = {\r\n    heading: 'Leaf component',\r\n    paramIndex: 0\r\n};\r\n\n\n\n/** WEBPACK FOOTER **\n ** C:/Users/SFM Workstation/server/www/kompo/examples/router/src/components/Leaf.js\n **/"],"sourceRoot":""}