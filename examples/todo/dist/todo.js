!function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var u=n(1),s=r(u),c=n(2),f=r(c),l=n(9),d=r(l),p=n(22),h=r(p),v=n(21),m=r(v);(0,d["default"])();var y=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.create=function(){var t=this.mount(new h["default"]({className:"TodoList"})),e=this.mount(new m["default"]({addText:"Add"})),n=(0,f["default"])(),r=(0,f["default"])("h1").txt("Todo example - Kompo");return n.append(r,!1).append(t,!1).append(e),n},e}(s["default"]);document.body.append((new y).setState({todos:[{description:"Create documentation",done:!0},{description:"Make tests",done:!1}]}))},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n,r,o){if(e.call(t,n,r,t,o)){var i=t.getRoot();null===i?(0,s["default"])(t.update.bind(t)):(0,s["default"])(i.update.bind(i))}}var a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};Object.defineProperty(e,"__esModule",{value:!0});var u=n(7),s=r(u),c=n(6),f=r(c),l=n(5),d=r(l),p=n(3),h=r(p),v=n(8),m=(r(v),function(){function t(e){o(this,t);var n=a({},this.constructor.defaultProps);"undefined"!=typeof n&&"undefined"!=typeof e?this.props=(0,f["default"])(n,e):this.props=e||n||{},this.statefulls=[],this.mounts=[],this.stateless=!0,this.isolated=!1,this.initial=!0}return t.prototype.create=function(){throw new Error("Component must override the create method and return an Node object.")},t.prototype.render=function(){return this.initial?(this.root=this.create(),this.initial=!1,Object.defineProperty(this.root,"__kompo_component__",{writable:!0,value:this}),this.root):(this.update(),this.root)},t.prototype.update=function(){for(var t=0,e=this.mounts.length;e>t;t++){var n=this.mounts[t];n.stateless||n.isolated||n.update()}for(var t=0,e=this.statefulls.length;e>t;t++)this.statefulls[t](this.state,this)},t.prototype.mount=function(t){return this.mounts.push(t),t.setParent(this),t.setState(this.state),t},t.prototype.unmount=function(t){var e=this.mounts.indexOf(t);return this.mounts.splice(e,1),this},t.prototype.unmountByIndex=function(t){var e=this.mounts[t];return this.mounts.splice(t,1),e},t.prototype.setParent=function(t){return this.parent=t,this},t.prototype.react=function(t){if(this.stateless)throw new Error("Set state (through mount() or setState()) before registering a react function.");return this.statefulls.push(t),t(this.state,this)},t.prototype.mountRoutedComponent=function(t){var e=this,n=!1;if((0,h["default"])(t))n=!0;else if(!t instanceof Node)throw new Error("Routed Component cannot be assigned. Please make sure parent is a Node or a closure.");return this.react(function(r,o){var i=r.Router.getComponent(e);return i&&(i.setParent(e),i.setState(r),n?t.bind(e)(i,r,o):(0,d["default"])(t,i)),i})},t.prototype.setState=function(t){return this.stateless=!1,this.state=t,this},t.prototype.setIsolatedState=function(t){return this.setState(t),this.isolated=!0,this},t.prototype.nest=function(t){if(1===arguments.length){if(!(0,h["default"])(t))throw new Error("Nesting callback should be a function, please provide a valid callback.");return this.nest=t,this}return this.nest(this.state,this)},t.prototype.on=function(t,e,n,r){var o=this;return 4===arguments.length?!function(){var a=e;e=n,n=r,t.addEventListener(e,function(t){for(var e=void 0,r=void 0,u=t.target;u&&u!=this;u=u.parentNode)if(u.matches(a)&&(e=t),"undefined"!=typeof u.__kompo_component__){r=u.__kompo_component__;break}"undefined"!=typeof e&&i(o,n,e,o.state,r)},!1)}():t.addEventListener(e,function(t){i(o,n,t,o.state)},!1),this},t.prototype.off=function(t,e){return t.removeEventListener(e,i,!1),this},t.prototype.getRoot=function(){if("undefined"==typeof this.parent||this.isolated)return null;for(var t=this.parent;"undefined"!=typeof t.parent&&!t.isolated;)t=t.parent;return t},t}());e["default"]=m},function(t,e){"use strict";function n(t,e){var n=void 0;return n="undefined"==typeof t?a.createElement("div"):a.createElement(t),"undefined"!=typeof e&&r(n,e),n}function r(t,e){for(var n=Object.keys(e),r=0,o=n.length;o>r;r++){var i=n[r],a=e[i];t.setAttribute(i,a)}return t}function o(){return a.createDocumentFragment()}function i(t){return a.createTextNode(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n,e.addAttributes=r,e.createFragment=o,e.createText=i;var a=document},function(t,e){"use strict";function n(t){var e={};return t&&"[object Function]"===e.toString.call(t)}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){"use strict";function n(t){var e="undefined"==typeof t?"undefined":r(t);return"function"==e||t&&"object"==e||!1}var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol?"symbol":typeof t};Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=arguments.length<=2||void 0===arguments[2]?!1:arguments[2],r=arguments.length<=3||void 0===arguments[3]?!1:arguments[3],o=(0,f["default"])(arguments[2]),u=void 0;return u=o?r?t.lastChild:t.firstChild:n?t.lastChild:t.firstChild,"string"==typeof e&&(e=(0,a["default"])(e)),e instanceof s["default"]&&(e=e.render()),o&&(0,i.addAttributes)(e,n),u?t.replaceChild(e,u):t.appendChild(e),e}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(2),a=r(i),u=n(1),s=r(u),c=n(4),f=r(c)},function(t,e){"use strict";function n(){for(var t=Array.prototype.shift.call(arguments),e=0;e<arguments.length;e++){var n=arguments[e];for(var r in n)t[r]=n[r]}return t}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}()},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=function(){if(!Element.prototype.matches){var t=Element.prototype;t.webkitMatchesSelector&&(t.matches=t.webkitMatchesSelector),t.msMatchesSelector&&(t.matches=t.msMatchesSelector),t.mozMatchesSelector&&(t.matches=t.mozMatchesSelector)}}()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t){function e(e){return n?e:t+(0,a["default"])(e)}var n="undefined"==typeof t,r=document,o=Element.prototype,i=DocumentFragment.prototype;Object.defineProperty(o,e("attr"),{value:function(t,e){return 1===arguments.length?this.getAttribute(t):(this.setAttribute(t,e),this)}}),Object.defineProperty(o,e("hasAttr"),{value:function(t){return this.hasAttribute(t)}}),Object.defineProperty(o,e("removeAttr"),{value:function(t){return this.removeAttribute(t),this}}),Object.defineProperty(o,e("txt"),{value:function(t){return 1===arguments.length?(this.appendChild(r.createTextNode(t)),this):this.textContent}});var u=e("append"),c=function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];return"string"==typeof t&&(t=r.createElement(t)),t instanceof s["default"]&&(t=t.render()),this.appendChild(t),(0,p["default"])(arguments[1])?((0,l.addAttributes)(t,e),n?t:this):e?t:this};Object.defineProperty(o,u,{value:c}),Object.defineProperty(i,u,{value:c}),Object.defineProperty(o,e("parentAppend"),{value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2];return this.parentNode.append(t,e,n)}}),Object.defineProperty(o,e("cloneAppend"),{value:function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return this.parentNode.append(this.cloneNode(t))}});var d=e("clone"),h=function(){var t=arguments.length<=0||void 0===arguments[0]?!1:arguments[0];return this.cloneNode(t)};Object.defineProperty(o,d,{value:h}),Object.defineProperty(i,d,{value:h});var v=e("prepend"),m=function(t){var e=arguments.length<=1||void 0===arguments[1]?!0:arguments[1],n=arguments.length<=2||void 0===arguments[2]?!0:arguments[2],o=this.firstChild;return"string"==typeof t&&(t=r.createElement(t)),t instanceof s["default"]&&(t=t.render()),o?this.insertBefore(t,o):this.append(t),(0,p["default"])(arguments[1])?((0,l.addAttributes)(t,e),n?t:this):e?t:this};Object.defineProperty(o,v,{value:m}),Object.defineProperty(i,v,{value:m}),Object.defineProperty(o,e("parent"),{value:function(){return this.parentElement||this.parentNode}}),Object.defineProperty(o,e("hasParent"),{value:function(){return!(null===this.parentElement&&null===this.parentNode)}}),Object.defineProperty(o,e("root"),{value:function(t){for(t=t?t:this.parentElement||this.parentNode;null!==(t.parentElement||t.parentNode);)t=this.root(t.parentElement||t.parentNode);return t}});var y=e("query"),b=function(t){return this.querySelector(t)};Object.defineProperty(o,y,{value:b}),Object.defineProperty(i,y,{value:b});var _=e("queryAll"),g=function(t){return this.querySelectorAll(t)};Object.defineProperty(o,_,{value:g}),Object.defineProperty(i,_,{value:g}),"remove"in o||Object.defineProperty(o,e("remove"),{value:function(){var t=this.parentNode;t&&t.removeChild(this)}});var j=e("empty"),O=function(){for(;this.lastChild;)this.removeChild(this.lastChild);return this};Object.defineProperty(o,j,{value:O}),Object.defineProperty(i,j,{value:O}),Object.defineProperty(o,e("log"),{value:function(){return console.log(this),this}}),Object.defineProperty(o,e("replace"),{value:function(t){var e=arguments.length<=1||void 0===arguments[1]?!1:arguments[1];return(0,f["default"])(this,t,e)}}),Object.defineProperty(o,e("replaceWith"),{value:function(t,e){return"string"==typeof t&&(t=r.createElement(t)),"undefined"!=typeof e&&(0,l.addAttributes)(t,e),this.parentNode.replaceChild(this,t),t}}),Object.defineProperty(o,e("before"),{value:function(t,e){var n=this.parentNode;return"string"==typeof t&&(t=r.createElement(t)),t instanceof s["default"]&&(t=t.render()),"undefined"!=typeof e&&(0,l.addAttributes)(t,e),n&&n.insertBefore(t,this),t}}),Object.defineProperty(o,e("after"),{value:function(t,e){var n=this.parentNode,o=this.nextSibling;return"string"==typeof t&&(t=r.createElement(t)),t instanceof s["default"]&&(t=t.render()),"undefined"!=typeof e&&(0,l.addAttributes)(t,e),n&&(o?n.insertBefore(t,o):n.appendChild(t)),t}}),Object.defineProperty(o,e("i"),{value:function(t){return 0===arguments.length?this.id:(this.id=t,this)}}),Object.defineProperty(o,e("n"),{value:function(t){return 0===arguments.length?this.name:(this.name=t,this)}}),Object.defineProperty(o,e("h"),{value:function(t){return 0===arguments.length?this.href:(this.href=t,this)}}),Object.defineProperty(o,e("v"),{value:function(t){return 0===arguments.length?this.value:(this.value=t,this)}})}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(10),a=r(i),u=n(1),s=r(u),c=n(5),f=r(c),l=n(2),d=n(4),p=r(d)},function(t,e){"use strict";function n(t){return"string"==typeof t?t.charAt(0).toUpperCase()+t.slice(1):void 0}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=n},,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){var n=void 0;return function(r,o){var i=e||this,u=(0,a["default"])(n);return u&&n.__kompo_stale__===!0&&(n=void 0),n=t.call(i,r,n,o),u&&n.hasOwnProperty("__kompo_stale__")&&(n.__kompo_stale__=!1),n}}Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=o;var i=n(4),a=r(i)},,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}function u(t,e){Object.defineProperty(t,"__kompo_collection_remove__",{configurable:!0,writable:!0,value:e})}Object.defineProperty(e,"__esModule",{value:!0}),e.remove=u;var s=n(1),c=r(s),f=n(2),l=n(6),d=r(l),p=function(t){function e(n,r,a,u){o(this,e);var s=i(this,t.call(this));return s.root=n,s.state=r,s.stateless=!1,s.componentConstructor=a,s.options=(0,d["default"])({fragmentLimit:1,props:void 0},u),s.create(),s}return a(e,t),e.prototype.create=function(){if(Array.isArray(this.state))this.append(this.state);else{if(!isObject(this.state))throw new Error("Cannot iterate over given state. Please check constructor input and provide an array or object.");this.append(Object.keys(this.state),this.state)}return this.root},e.prototype.append=function(t,e){var n=t.length,r=this.mounts.length;if(n>r){var o=void 0,i=void 0;n-r>this.options.fragmentLimit?(o=(0,f.createFragment)(),i=!0):(o=this.root,i=!1);for(var a=r;n>a;a++){var u=e?t[a]:a,s=e?e[u]:t[a];o.appendChild(this.mount(new this.componentConstructor(this.options.props).setState((0,d["default"])(s,{index:u}))).render())}i&&this.root.appendChild(o)}},e.prototype.update=function(){if(this.state.hasOwnProperty("__kompo_collection_remove__")){var t=this.state.__kompo_collection_remove__;if(Array.isArray(t))for(var e=0,n=t.length;n>e;e++){var r=this.unmountByIndex(t);r.root.parentNode.removeChild(r.root),this.state.splice(t,1)}else{var o=this.unmountByIndex(t);o.root.parentNode.removeChild(o.root),this.state.splice(t,1)}delete this.state.__kompo_collection_remove__}for(var e=0,n=this.mounts.length;n>e;e++){var i=this.mounts[e];i.state.index=e,i.stateless||i.isolated||i.update()}this.create()},e.prototype.mount=function(t){return this.mounts.push(t),t.setParent(this),t},e.prototype.setState=function(){return this},e}(c["default"]);e["default"]=p},,,,,function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(1),s=r(u),c=n(2),f=r(c),l=n(12),d=r(l),p=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.create=function(){var t=(0,f["default"])("li"),e=(0,f["default"])("a").h("javascript:void(0);"),n=(0,f["default"])("a").h("javascript:void(0);").txt(this.props.removeText||"X");return t.classList.add("Todo"),e.classList.add("js-Todo-completeToggle"),n.classList.add("js-Todo-delete","Todo-delete"),this.react((0,d["default"])(function(n,r){var o=n.description;return o!=r&&e.replace((0,c.createText)(o)),n.done?t.classList.add("Todo--isCompleted"):t.classList.remove("Todo--isCompleted"),o})),t.append(e,!1).append(n,!1),t},e}(s["default"]);e["default"]=p},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(1),s=r(u),c=n(2),f=r(c),l=n(12),d=(r(l),function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.create=function(){var t=(0,f["default"])("div"),e=(0,f["default"])("input").attr("placeholder","A new todo ..."),n=(0,f["default"])("a").h("javascript:void(0);").txt(this.props.addText||"+");t.classList.add("TodoAdd"),e.classList.add("js-Todo-addInput"),n.classList.add("js-Todo-add","Todo-add");var r=function(t,n){t.preventDefault();var r=t.which||t.keyCode;return 13!==r&&"click"!==t.type||""==e.value?void 0:(n.todos.push({description:e.value,done:!1}),e.value="",!0)};return this.on(e,"keyup",r),this.on(n,"click",r),t.append(e,!1).append(n,!1),t},e}(s["default"]));e["default"]=d},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{"default":t}}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}function a(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(1),s=r(u),c=n(2),f=r(c),l=n(15),d=r(l),p=n(20),h=r(p),v=function(t){function e(){return o(this,e),i(this,t.apply(this,arguments))}return a(e,t),e.prototype.create=function(){var t=(0,f["default"])("ul");return t.classList.add(this.props.className),this.mount(new d["default"](t,this.state.todos,h["default"],{props:{removeText:"Delete"}})),this.on(t,".js-Todo-completeToggle","click",function(t,e,n,r){var o=e.todos[r.state.index];return o.done=!o.done,!0}),this.on(t,".js-Todo-delete","click",function(t,e,n,r){return(0,l.remove)(e.todos,r.state.index),!0}),t},e}(s["default"]);e["default"]=v}]);
//# sourceMappingURL=todo.js.map